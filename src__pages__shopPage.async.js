"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7805],{10235:function(g,_,s){s.d(_,{GD:function(){return N},Gj:function(){return A},Iw:function(){return h},LG:function(){return u},MX:function(){return I},PY:function(){return m},QK:function(){return o},RB:function(){return Z},Sp:function(){return n},ZZ:function(){return c},_r:function(){return L},aV:function(){return x},b7:function(){return f},dt:function(){return C},fY:function(){return B},if:function(){return b},kh:function(){return R},lz:function(){return k},mg:function(){return O},t0:function(){return a},yC:function(){return j}});var t=s(87866),P=s(33746),y=P.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function v(r){return request({url:"/task/grab",withCredentials:!1,method:"post",data:r})}function I(){return(0,t.Z)({url:"/products/random",method:"get"})}function C(r){return(0,t.Z)({url:"/products/random/type",method:"get",params:r})}function o(r){return(0,t.Z)({url:"/wishlist/add",method:"post",data:r})}function m(r){return(0,t.Z)({url:"/wishlist/"+r,method:"get"})}function a(r,M){return(0,t.Z)({url:"/wishlist/delete/".concat(r,"/").concat(M),method:"delete"})}function f(r){return(0,t.Z)({url:"/orders/buy",method:"post",data:r})}function u(r){return(0,t.Z)({url:"/orders/buy/all",method:"get",params:r})}function h(r){return(0,t.Z)({url:"/orders/buy/pending",method:"get",params:r})}function A(r){return(0,t.Z)({url:"/orders/buy/processing",method:"get",params:r})}function x(r){return(0,t.Z)({url:"/orders/buy/refunding",method:"get",params:r})}function O(r){return(0,t.Z)({url:"/orders/buy/delivered",method:"get",params:r})}function j(r){return(0,t.Z)({url:"/products/search",method:"get",params:r})}function B(r){return(0,t.Z)({url:"/shop/".concat(r.shopId,"/available-products"),method:"get",params:r})}function N(r){return(0,t.Z)({url:"/shop/products/priceRange",method:"get",params:r})}function c(r){return(0,t.Z)({url:"/shop/".concat(r.shopId,"/orders"),method:"get",params:r})}function Z(r){return(0,t.Z)({url:"/shop/".concat(r,"/products"),method:"get",params:{size:100}})}function n(r){return(0,t.Z)({url:"/shop/".concat(r,"/order/summary"),method:"get",params:{shopId:r}})}function L(r){return(0,t.Z)({url:"/shop/".concat(r.shopId,"/payOrder"),method:"post",data:r})}function b(r){return(0,t.Z)({url:"/shop/listProduct",method:"post",data:r})}function k(r){return(0,t.Z)({url:"/shop/products/editPrice",method:"post",data:r})}function R(r){return(0,t.Z)({url:"/shop/removeProduct",method:"post",data:r})}},34596:function(g,_,s){s.d(_,{FL:function(){return r},H:function(){return Z},JR:function(){return R},Kn:function(){return u},S4:function(){return n},Ue:function(){return f},Uy:function(){return w},Vb:function(){return i},_U:function(){return h},an:function(){return I},bZ:function(){return b},eY:function(){return M},iJ:function(){return c},jw:function(){return B},nn:function(){return N},o$:function(){return v},sg:function(){return l},um:function(){return o},wX:function(){return k},x4:function(){return O},yw:function(){return a},z2:function(){return C}});var t=s(87866),P=s(33746),y=P.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function v(e){return y({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function I(e){return(0,t.Z)({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function C(e){return(0,t.Z)({url:"/auth/register",withCredentials:!1,method:"post",data:e})}function o(e){return(0,t.Z)({url:"/user/user-detail/"+e.userId,withCredentials:!1,method:"get"})}function m(e){return request({url:"/wishlist/"+e.userId,withCredentials:!1,method:"get"})}function a(e){return(0,t.Z)({url:"/message/inbox",withCredentials:!1,method:"get",params:e})}function f(e){var F=e.id;return delete e.id,(0,t.Z)({url:"/address/create?userId="+F,withCredentials:!1,method:"post",data:e})}function u(e){return(0,t.Z)({url:"/address/get",withCredentials:!1,method:"get",params:e})}function h(e){return(0,t.Z)({url:"/address/update?userId="+e.id,withCredentials:!1,method:"post",data:e})}function A(e){return request({url:"/redbag/draw",withCredentials:!1,method:"post",data:e})}function x(e){return request({url:"/user/profit",withCredentials:!1,method:"get",params:e})}function O(e){return(0,t.Z)({url:"/auth/login",withCredentials:!1,method:"post",data:e})}function j(e){return request({url:"/redbag/signin",withCredentials:!1,method:"post",data:e})}function B(e){return(0,t.Z)({url:"/redbag/signin-and-draw",withCredentials:!1,method:"post",data:e})}function N(e){return(0,t.Z)({url:"/seller/apply",withCredentials:!1,method:"post",data:e})}function c(e){return(0,t.Z)({url:"/loan/apply",withCredentials:!1,method:"post",data:e})}function Z(e){return(0,t.Z)({url:"/loan/loan",withCredentials:!1,method:"post",data:e})}function n(e){return(0,t.Z)({url:"/loan/repay",withCredentials:!1,method:"post",data:e})}function L(e){return request({url:"/withdrawal-records/user",withCredentials:!1,method:"post",data:e})}function b(e){return(0,t.Z)({url:"/recharge-records/username",withCredentials:!1,method:"get",params:e})}function k(e){return(0,t.Z)({url:"/recharge-records/user",withCredentials:!1,method:"post",data:e})}function R(e){return(0,t.Z)({url:"/withdrawal-records/username",withCredentials:!1,method:"get",params:e})}function r(e){return(0,t.Z)({url:"/shop/user/"+e,withCredentials:!1,method:"get"})}function M(e){return(0,t.Z)({url:"/user/info/"+e,withCredentials:!1,method:"get"})}function w(e){return(0,t.Z)({url:"/products/uploader-to-userid?uploader="+e.uploader,withCredentials:!1,method:"get"})}function l(e){return(0,t.Z)({url:"/user/eth/get",withCredentials:!1,method:"get",params:e})}function i(e){return(0,t.Z)({url:"/user/tron/get",withCredentials:!1,method:"get",params:e})}function p(e){return request({url:"/user/eth/set",withCredentials:!1,method:"put",data:e})}function D(e){return request({url:"/user/tron/set",withCredentials:!1,method:"put",data:e})}function E(){return fetch("https://api.ipify.org?format=json")}},87866:function(g,_,s){var t=s(31759),P=s.n(t),y=s(33746),v=s(69194),I=s(18015),C=y.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e5});C.interceptors.request.use(function(o){if(o.url==="/auth/register"||o.url==="/auth/login")return o;(o.url==="/user/apply"||o.url==="/loan/apply")&&(o.headers["Content-Type"]="multipart/form-data");var m=localStorage.getItem("token");return m&&(o.headers.Authorization="Bearer "+m),o},function(o){return console.log(o),Promise.reject(o)}),C.interceptors.response.use(function(o){var m,a=o.data;if(console.log("response-->",a),Array.isArray(a))return Promise.resolve(a);if((m=a.data)!==null&&m!==void 0&&m.token&&(localStorage.setItem("token",a.data.token),localStorage.setItem("userInfo",JSON.stringify(a.data.user))),a.code!==200)return v.FN.show({icon:"fail",content:a.message}),Promise.resolve(a);if(a.code===200||a.message==="SUCCESS")return Promise.resolve(a);if(a.code===305||a.code===306){Promise.reject(a||"error");return}else return a.code===403?(v.FN.show({icon:"fail",content:a.message}),I.history.push("/login"),Promise.resolve(a||"error")):Promise.reject(a||"error")},function(o){return console.log(o,"error"),o.status===403&&(v.FN.show({icon:"fail",content:o.message}),localStorage.removeItem("token"),setTimeout(function(){I.history.push("/login")},1e3)),console.log("request error"+o,P()(o)),Promise.reject(o)}),_.Z=C},72283:function(g,_,s){s.d(_,{Bi:function(){return C},Vj:function(){return o},c9:function(){return m},dN:function(){return I}});var t=s(25298),P=s.n(t),y=s(17069),v=s.n(y);function I(a){return isNaN(a)?"0.00":Number(a).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function C(a){var f=new Date(a),u=f.getFullYear(),h=String(f.getMonth()+1).padStart(2,"0"),A=String(f.getDate()).padStart(2,"0"),x="".concat(u,"-").concat(h,"-").concat(A);return x}function o(a,f,u){for(var h={},A=100/u,x=0;x<=u;x++){var O=x*A,j=(a+(f-a)*O/100).toFixed(2);h[O]=parseFloat(j)}return h}var m=function(){function a(f){P()(this,a),this.url=f,this.ws=null,this.listeners=[],this.onOpenCallbacks=[],this.onCloseCallbacks=[],this.onErrorCallbacks=[]}return v()(a,[{key:"connect",value:function(){var u=this;this.ws||(this.ws=new window.WebSocket(this.url),this.ws.onopen=function(){u.onOpenCallbacks.forEach(function(h){return h()})},this.ws.onmessage=function(h){var A=h.data;try{A=JSON.parse(A)}catch(x){}u.listeners.forEach(function(x){return x(A)})},this.ws.onclose=function(h){u.onCloseCallbacks.forEach(function(A){return A(h)})},this.ws.onerror=function(h){u.onErrorCallbacks.forEach(function(A){return A(h)})})}},{key:"send",value:function(u){console.log(this.ws,"this.ws"),!(!this.ws||this.ws.readyState!==1)&&(typeof u!="string"&&(u=JSON.stringify(u)),this.ws.send(u))}},{key:"onMessage",value:function(u){this.listeners.push(u)}},{key:"close",value:function(){this.ws&&(this.ws.close(),this.ws=null)}},{key:"onOpen",value:function(u){this.onOpenCallbacks.push(u)}},{key:"onClose",value:function(u){this.onCloseCallbacks.push(u)}},{key:"onError",value:function(u){this.onErrorCallbacks.push(u)}}]),a}()},84908:function(g,_,s){var t=s(69194),P=s(75271),y=s(5791),v=s(52676),I=function(o){var m=o.title,a=(0,y.s0)(),f=function(){a(-1)};return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(t.l2,{onBack:f,style:{background:"#fff",position:"sticky",top:0,zIndex:1e3},children:m})})};_.Z=I},8680:function(g,_,s){s.r(_),s.d(_,{default:function(){return M}});var t=s(90228),P=s.n(t),y=s(87999),v=s.n(y),I=s(48305),C=s.n(I),o=s(69194),m=s(5791),a=s(72283),f=s(34596),u=s(10235),h=s(75271),A=s(84908),x=s(59739),O=s(15551),j=s(43851),B=s(64953),N=s(65471),c={goodsGrid:"goodsGrid___bHkK_",goodsItem:"goodsItem___BD9k4",goodsImg:"goodsImg___r8pSG",goodsInfo:"goodsInfo___UhVJU",goodsName:"goodsName___cN0jD",price:"price___LXXcs",sales:"sales___aNJNB",goodsSeller:"goodsSeller___NJ673"},Z=s(68188),n=s(52676),L=function(w){var l=w.images,i=w.onClick,p=(0,h.useRef)(null);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.tq,{loop:!0,onIndexChange:function(E){console.log(E,"onIndexChange1")},style:{"--border-radius":"8px"},children:l.map(function(D,E){return(0,n.jsx)(o.tq.Item,{children:(0,n.jsx)("div",{className:Z.Z.content,style:{height:"250px",padding:"16px"},onClick:function(){i(E)},children:(0,n.jsx)("img",{src:D,alt:""})})},E)})})})},b=function(){var l=(0,x.$G)(),i=l.t,p=(0,m.s0)(),D=(0,h.useState)({}),E=C()(D,2),e=E[0],F=E[1],U=(0,h.useState)({}),T=C()(U,2),G=T[0],Q=T[1],K=function(){var d=v()(P()().mark(function S(){var J,z;return P()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:J=JSON.parse(localStorage.getItem("userInfo")),z=JSON.parse(localStorage.getItem("item"));case 2:case"end":return W.stop()}},S)}));return function(){return d.apply(this,arguments)}}();return(0,h.useEffect)(function(){K()},[]),(0,n.jsxs)("div",{className:c.indexContainer,children:[(0,n.jsx)(A.Z,{title:i("shophome.shop")}),(0,n.jsx)(R,{}),(0,n.jsx)(r,{})]})},k=function(l){if(!l||l<1)return null;var i,p;return l>=1&&l<=5?(i=O,p=l):l>=6&&l<=10?(i=j,p=l-5):l>=11&&l<=15?(i=B,p=l-10):l>=16&&l<=20&&(i=N,p=l-15),(0,n.jsx)("span",{style:{display:"inline-flex",gap:2,marginLeft:4},children:Array.from({length:p},function(D,E){return(0,n.jsx)("img",{src:i,alt:"level icon",style:{width:14,height:14}},E)})})};function R(){var w,l=(0,m.s0)(),i=(w=JSON.parse(localStorage.getItem("searchPageState")))===null||w===void 0?void 0:w.shopHeader;return i||l(-1),console.log(i,"shopHeader"),(0,n.jsx)("div",{style:{padding:"8px 12px 0",cursor:"pointer"},children:(0,n.jsx)(o.Zb,{style:{borderRadius:12},children:(0,n.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[(0,n.jsx)("img",{src:i.avatarUrl?"https://api.xxzh.cc"+i.avatarUrl:"",alt:i.name,style:{width:56,height:56,borderRadius:"50%",objectFit:"cover",background:"#f2f3f5"}}),(0,n.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,n.jsxs)("div",{style:{fontWeight:600,fontSize:16,lineHeight:"22px",display:"flex",alignItems:"center",gap:4},children:[i.name,k(i.level)]}),(0,n.jsx)("div",{style:{color:"#999",marginTop:2,fontSize:12,lineHeight:"18px"},children:i.description||"-"}),(0,n.jsx)("div",{style:{display:"flex",gap:6,marginTop:8,flexWrap:"wrap"},children:[i.tag1,i.tag2,i.tag3].filter(Boolean).map(function(p,D){return(0,n.jsx)("span",{style:{fontSize:11,padding:"3px 6px",borderRadius:999,background:"#f5f5f5",color:"#666"},children:p},D)})})]})]})})})}function r(){var w,l=(0,x.$G)(),i=l.t,p=(0,m.s0)(),D=(0,h.useState)("share"),E=C()(D,2),e=E[0],F=E[1],U=(w=JSON.parse(localStorage.getItem("searchPageState")))===null||w===void 0?void 0:w.shopProducts;U||p(-1);var T=U.slice().reverse();console.log(U,"shopProducts"),console.log(T,"reverse");var G=U.slice(0,5).map(function(d){return"https://api.xxzh.cc"+d.imagePath}),Q=U.slice(5).map(function(d){return d});console.log(G),console.log(Q);var K=function(S){console.log(S,"i"),localStorage.setItem("item",JSON.stringify(U[S])),p("/details")};return(0,n.jsxs)("div",{style:{background:"#fff",margin:"10px",borderRadius:"12px"},children:[(0,n.jsxs)(o.mQ,{onChange:function(S){F(S)},children:[(0,n.jsx)(o.mQ.Tab,{title:i("shoppage.recommend")},"share"),(0,n.jsx)(o.mQ.Tab,{title:i("shoppage.products")},"all")]}),e==="share"&&(0,n.jsx)(L,{images:G,onClick:function(S){return K(S)}}),e==="share"?(0,n.jsx)("div",{className:c.goodsGrid,style:{paddingTop:8},children:Q.map(function(d,S){return(0,n.jsxs)("div",{className:c.goodsItem,onClick:function(){localStorage.setItem("item",JSON.stringify(d)),p("/details")},children:[(0,n.jsx)("img",{className:c.goodsImg,src:"https://api.xxzh.cc"+d.imagePath,alt:d.name}),(0,n.jsxs)("div",{className:c.goodsInfo,children:[(0,n.jsx)("span",{className:c.goodsName,children:d.name}),(0,n.jsxs)("div",{className:c.goodsPrice,children:[(0,n.jsxs)("span",{className:c.price,children:["$",d.price]}),(0,n.jsxs)("span",{className:c.sales,children:[i("shoppage.sales"),"\uFF1A",d.sales||0]}),(0,n.jsxs)("div",{className:c.goodsSeller,children:[i("shoppage.seller"),": ",d.seller||"-"]})]})]})]},S)})}):(0,n.jsx)("div",{className:c.goodsGrid,style:{paddingTop:8},children:T.map(function(d,S){return(0,n.jsxs)("div",{className:c.goodsItem,onClick:function(){localStorage.setItem("item",JSON.stringify(d)),p("/details")},children:[(0,n.jsx)("img",{className:c.goodsImg,src:"https://api.xxzh.cc"+d.imagePath,alt:d.name}),(0,n.jsxs)("div",{className:c.goodsInfo,children:[(0,n.jsx)("span",{className:c.goodsName,children:d.name}),(0,n.jsxs)("div",{className:c.goodsPrice,children:[(0,n.jsxs)("span",{className:c.price,children:["$",d.price]}),(0,n.jsxs)("span",{className:c.sales,children:[i("shoppage.sales"),"\uFF1A",d.sales||0]}),(0,n.jsxs)("div",{className:c.goodsSeller,children:[i("shoppage.seller"),": ",d.seller||"-"]})]})]})]},S)})})]})}var M=b},68188:function(g,_){_.Z={tabbar_cuttom:"tabbar_cuttom___IKZ2K","grid-demo-item-block":"grid-demo-item-block___mYggM",active:"active___YnRNk",matic:"matic___tZ6PL",content:"content___ZI4rg"}},64953:function(g){g.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAwUExURTyH4UOP2T2Q4kaX4/v8/gVxtNbk7TmS3gCJyLHJ3AC95QDa8gCi2XGTqpKtvXGx4VyjvccAAAAEdFJOUwHWgTn/tml/AAAA90lEQVQY02NgAAFGAQYEEHNEsBldXGBSRuKl9d/jBQ1AbMNpnuXf6yvd5iswMDB9c6lZ4eLSdd5logGDeYr7qR0uLt1rStwEGDRdfqwGcXb1u3xiEHPp2Q3i7D7hkshQ4hYD5aS4wzhdq0CcssyYVUtT0qJWHZ2WziCWFrFqaVpa1JrWaRMZ9NNCT0E4aZ8YzGde7TialhbTETizmIHx59SI1pkzI1rjgO5hrnsb0fruXUSr3EOQQ9+Fhr4DYbAvZK+G3r0bGnsR7AfGuyDO3SKw59hdXNIyZ7oVQDgpbqGhM90gHmeqT4s5OvO7AiQQFMuBQBjIAADb1GaiuuFszQAAAABJRU5ErkJggg=="},15551:function(g){g.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABgUExURQAAALAAAP8ICPcPD+8HB8MDA64DA8YFBckDA/UHB6oAAP0XF/wICPIHB8ICAtoEBP5MTP6Li/9paf58fPc+Pv5eXtogIP5zc9sHB/5WVv/b2//OzsAPD+Y0NP0LC/6kpIDadgUAAAAQdFJOUwCEousiPu4RlNHB92CIzNXjVQd3AAAAyUlEQVQoz62R2RLCIAxFYzdAWw0JW+n2/39pa6kLPjnjGR6SXHKZBIB/UhflrIpqT9riciTtjJ7ZXjoBUClDzN7M7RqXrB/0StQl7TGVFXRW+x7Rsia13kmx6UDxYnGDtF3PI0RPCoKPAyZF95igAIFipJTRUUcb4GaWuGCOuYF0doiUC05CFQzHoc8awjqidMhDpgS5jX6d0C4+M9oQV/f1wI6Q74oZT68Fn0Zz1Kem/lh9k5rcWXx+ijiPuc3Trpkym5ddbvMbdyFOFkDLbA1HAAAAAElFTkSuQmCC"},65471:function(g){g.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAwUExURQAAAN9hBN91I9xeANhmAONoAOJjAP/+rcpFAuaaV/bQjPuWEfisMfK7fvzWW/3sj/jyFcIAAAAHdFJOUwD+96oUXTZ5vloxAAAA+UlEQVQY02NgAAFnEwY4YNH/5ADnOJeXw6SCFTU0lRqVQ0DspFO1SpM0dasOASVZtcoVNcrLGyXLLyUwOH4vkrlRXt57UL1OhcGyfOKpFeXlXSslyw8z6JcL3gJx1kqUL2YQr29cBeT03pVYXsggXtV49wYSZy6IMxPEsS9vnAnkdAI5ixks/3dozvj/v3OSxP/NDInvNDRnvHvXOanpnQgD874XEE7PawMGFplDTRpnzjRp6BwGORTI2L27SfGMCshn2jtAnO6NCSA/OO3u2A1EwmDPMZaXl9e/+qUA4SwvFxR8VSUA5jBLLpc5+HZiADQQBIHAFMgAADuEaWz6zRKNAAAAAElFTkSuQmCC"},43851:function(g){g.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURQAAAJfE8GOm6cfk+m+s6ieE4P///9zu/Lva9tjs/IzL8kKT47UhPaMAAAABdFJOUwBA5thmAAAAkUlEQVQY02NgIBa4uLjs3h0aGgpisyQLgkFRAJDjlmwIYosXqQIl0pKNQZzyIqUABjcgByglDuSogjlAqXIoJ60DDFatWsrgbGwJMU0JKMOC4ADNdjaeCGILASWAZsM4IEsZnMHqwBJAKQgnAOJSZ6A6IVWos1lAnACYJzwFBVXhPmKZiJAASqkieZYlgEBoAABoySI2LqkoiAAAAABJRU5ErkJggg=="}}]);
