"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5669],{59510:function(E,I,n){n.d(I,{Br:function(){return o},KF:function(){return m},W2:function(){return C},bG:function(){return k},iY:function(){return P},kM:function(){return r},rH:function(){return d},s6:function(){return x}});var s=n(33746),f=s.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});f.interceptors.request.use(function(v){var l=localStorage.getItem("token");return l&&(v.headers.Authorization="Bearer ".concat(l)),v},function(v){return Promise.reject(v)});var k=function(l){return f.get("/user/info/".concat(l)).then(function(p){return p.data})},m=function(l,p){return f.put("/user/tron/set",{userId:l,address:p}).then(function(S){return S.data})},P=function(l){return f.get("/user/tron/get",{params:{userId:l}}).then(function(p){return p.data})},C=function(l,p,S,h,b){return f.post("/withdrawal-records/user",{username:l,amount:p,fundPassword:S,method:h,address:b}).then(function(j){return j.data})},o=function(l,p,S,h,b,j){return f.put("/user/set-bank-info",{userId:l,bankAccount:p,realName:S,bankName:h,cvv:b,expiryDate:j}).then(function(M){return M.data})},d=function(l){return f.get("/user/bank-info",{params:{userId:l}}).then(function(p){return p.data})},r=function(l,p,S,h,b,j,M,F){var L="".concat(h," | ").concat(b," | ").concat(j," | CVV:").concat(M," | Exp:").concat(F);return f.post("/withdrawal-records/user/bank",{username:l,amount:p,fundPassword:S,method:"\u94F6\u884C\u5361",address:L}).then(function(N){return N.data})},x=function(l){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10;return f.get("/shop/search-with-products",{params:{name:l,page:p,size:S}}).then(function(h){return h.data})}},10235:function(E,I,n){n.d(I,{GD:function(){return M},Gj:function(){return p},Iw:function(){return l},LG:function(){return v},MX:function(){return P},PY:function(){return d},QK:function(){return o},RB:function(){return L},Sp:function(){return N},ZZ:function(){return F},_r:function(){return W},aV:function(){return S},b7:function(){return x},dt:function(){return C},fY:function(){return j},if:function(){return t},kh:function(){return K},lz:function(){return H},mg:function(){return h},t0:function(){return r},yC:function(){return b}});var s=n(87866),f=n(33746),k=f.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function m(e){return request({url:"/task/grab",withCredentials:!1,method:"post",data:e})}function P(){return(0,s.Z)({url:"/products/random",method:"get"})}function C(e){return(0,s.Z)({url:"/products/random/type",method:"get",params:e})}function o(e){return(0,s.Z)({url:"/wishlist/add",method:"post",data:e})}function d(e){return(0,s.Z)({url:"/wishlist/"+e,method:"get"})}function r(e,u){return(0,s.Z)({url:"/wishlist/delete/".concat(e,"/").concat(u),method:"delete"})}function x(e){return(0,s.Z)({url:"/orders/buy",method:"post",data:e})}function v(e){return(0,s.Z)({url:"/orders/buy/all",method:"get",params:e})}function l(e){return(0,s.Z)({url:"/orders/buy/pending",method:"get",params:e})}function p(e){return(0,s.Z)({url:"/orders/buy/processing",method:"get",params:e})}function S(e){return(0,s.Z)({url:"/orders/buy/refunding",method:"get",params:e})}function h(e){return(0,s.Z)({url:"/orders/buy/delivered",method:"get",params:e})}function b(e){return(0,s.Z)({url:"/products/search",method:"get",params:e})}function j(e){return(0,s.Z)({url:"/shop/".concat(e.shopId,"/available-products"),method:"get",params:e})}function M(e){return(0,s.Z)({url:"/shop/products/priceRange",method:"get",params:e})}function F(e){return(0,s.Z)({url:"/shop/".concat(e.shopId,"/orders"),method:"get",params:e})}function L(e){return(0,s.Z)({url:"/shop/".concat(e,"/products"),method:"get",params:{size:100}})}function N(e){return(0,s.Z)({url:"/shop/".concat(e,"/order/summary"),method:"get",params:{shopId:e}})}function W(e){return(0,s.Z)({url:"/shop/".concat(e.shopId,"/payOrder"),method:"post",data:e})}function t(e){return(0,s.Z)({url:"/shop/listProduct",method:"post",data:e})}function H(e){return(0,s.Z)({url:"/shop/products/editPrice",method:"post",data:e})}function K(e){return(0,s.Z)({url:"/shop/removeProduct",method:"post",data:e})}},87866:function(E,I,n){var s=n(31759),f=n.n(s),k=n(33746),m=n(69194),P=n(18015),C=k.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e5});C.interceptors.request.use(function(o){if(o.url==="/auth/register"||o.url==="/auth/login")return o;(o.url==="/user/apply"||o.url==="/loan/apply")&&(o.headers["Content-Type"]="multipart/form-data");var d=localStorage.getItem("token");return d&&(o.headers.Authorization="Bearer "+d),o},function(o){return console.log(o),Promise.reject(o)}),C.interceptors.response.use(function(o){var d,r=o.data;if(console.log("response-->",r),Array.isArray(r))return Promise.resolve(r);if((d=r.data)!==null&&d!==void 0&&d.token&&(localStorage.setItem("token",r.data.token),localStorage.setItem("userInfo",JSON.stringify(r.data.user))),r.code!==200)return m.FN.show({icon:"fail",content:r.message}),Promise.resolve(r);if(r.code===200||r.message==="SUCCESS")return Promise.resolve(r);if(r.code===305||r.code===306){Promise.reject(r||"error");return}else return r.code===403?(m.FN.show({icon:"fail",content:r.message}),P.history.push("/login"),Promise.resolve(r||"error")):Promise.reject(r||"error")},function(o){return console.log(o,"error"),o.status===403&&(m.FN.show({icon:"fail",content:o.message}),localStorage.removeItem("token"),setTimeout(function(){P.history.push("/login")},1e3)),console.log("request error"+o,f()(o)),Promise.reject(o)}),I.Z=C},84908:function(E,I,n){var s=n(69194),f=n(75271),k=n(5791),m=n(52676),P=function(o){var d=o.title,r=(0,k.s0)(),x=function(){r(-1)};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(s.l2,{onBack:x,style:{background:"#fff",position:"sticky",top:0,zIndex:1e3},children:d})})};I.Z=P},93395:function(E,I,n){n.r(I),n.d(I,{default:function(){return K}});var s=n(15558),f=n.n(s),k=n(90228),m=n.n(k),P=n(87999),C=n.n(P),o=n(48305),d=n.n(o),r=n(75271),x=n(69194);function v(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),r.createElement("g",{id:"DownOutline-DownOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",null,r.createElement("rect",{id:"DownOutline-\u77E9\u5F62",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),r.createElement("path",{d:"M5.11219264,16.3947957 L22.6612572,34.5767382 L22.6612572,34.5767382 C23.2125856,35.1304785 24.0863155,35.1630514 24.6755735,34.6744571 L24.7825775,34.5767382 L42.8834676,16.3956061 C42.9580998,16.320643 43,16.2191697 43,16.1133896 L43,12.9866673 C43,12.7657534 42.8209139,12.5866673 42.6,12.5866673 C42.4936115,12.5866673 42.391606,12.6290496 42.316542,12.7044413 L23.7816937,31.3201933 L23.7816937,31.3201933 L5.6866816,12.7237117 C5.53262122,12.5653818 5.27937888,12.5619207 5.121049,12.7159811 C5.04365775,12.7912854 5,12.8946805 5,13.0026627 L5,16.1170064 C5,16.2206403 5.04022164,16.3202292 5.11219264,16.3947957 Z",id:"DownOutline-down",fill:"currentColor",fillRule:"nonzero"}))))}var l=v,p=n(84908),S=n(10235),h={goodsGrid:"goodsGrid___hxURm",goodsItem:"goodsItem___tmCin",goodsImg:"goodsImg___cwllK",goodsInfo:"goodsInfo___CqcTE",goodsName:"goodsName___aDd31",price:"price___hybhK",sales:"sales___EBESW",goodsSeller:"goodsSeller____YurB"},b=n(5791),j=n(59739),M=n(59510),F=n(15551),L=n(43851),N=n(64953),W=n(65471),t=n(52676),H=function(u){var z=u.hasMore;return z?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{style:{fontSize:14,color:"#999"},children:"loading"}),(0,t.jsx)(x.k_,{})]}):(0,t.jsx)("span",{style:{fontSize:14,color:"#999"},children:"~finished~"})};function K(){var e=(0,j.$G)(),u=e.t,z=(0,b.s0)(),ce=(0,r.useState)([]),V=d()(ce,2),X=V[0],Y=V[1],he=(0,r.useState)(!0),_=d()(he,2),$=_[0],U=_[1],Ae=(0,r.useState)(""),q=d()(Ae,2),R=q[0],fe=q[1],pe=(0,r.useState)({page:0}),ee=d()(pe,2),ge=ee[0],te=ee[1],me=(0,r.useState)("product"),re=d()(me,2),w=re[0],ve=re[1],ye=(0,r.useState)(null),ne=d()(ye,2),y=ne[0],ae=ne[1],xe=(0,r.useState)([]),se=d()(xe,2),J=se[0],oe=se[1],Se=(0,r.useState)(!1),ie=d()(Se,2),Be=ie[0],G=ie[1],D=w==="shop",Ee=function(a){if(!a||a<1)return null;var g,i;return a>=1&&a<=5?(g=F,i=a):a>=6&&a<=10?(g=L,i=a-5):a>=11&&a<=15?(g=N,i=a-10):a>=16&&a<=20&&(g=W,i=a-15),(0,t.jsx)("span",{style:{display:"inline-flex",gap:2,marginLeft:4},children:Array.from({length:i},function(O,T){return(0,t.jsx)("img",{src:g,alt:"level icon",style:{width:14,height:14}},T)})})};(0,r.useEffect)(function(){R!==""&&Ce()},[R,w]);var Ce=function(){var A=C()(m()().mark(function a(){return m()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(U(!0),Y([]),te({page:0}),ae(null),oe([]),G(!1),!D){i.next=11;break}return i.next=9,Ie();case 9:i.next=13;break;case 11:return i.next=13,Q();case 13:case"end":return i.stop()}},a)}));return function(){return A.apply(this,arguments)}}(),Ie=function(){var A=C()(m()().mark(function a(){var g,i,O;return m()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(R){c.next=4;break}return U(!1),G(!0),c.abrupt("return");case 4:return c.prev=4,c.next=7,(0,M.s6)(R,0,1);case 7:if(i=c.sent,G(!0),O=i==null||(g=i.data)===null||g===void 0?void 0:g[0],!O){c.next=16;break}ae(O),oe(O.products||[]),U(!1),c.next=18;break;case 16:return c.next=18,Q();case 18:c.next=26;break;case 20:return c.prev=20,c.t0=c.catch(4),console.error("shop search failed",c.t0),G(!0),c.next=26,Q();case 26:case"end":return c.stop()}},a,null,[[4,20]])}));return function(){return A.apply(this,arguments)}}(),Q=function(){var A=C()(m()().mark(function a(){var g,i,O,T,c,le;return m()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(R){B.next=3;break}return U(!1),B.abrupt("return");case 3:return B.prev=3,B.next=6,(0,S.yC)({keyword:R,page:ge.page,size:10,type:"product"});case 6:g=B.sent,te(function(Z){return{page:Z.page+1}}),Array.isArray(g.data)?(g.data.length===0&&U(!1),Y(function(Z){return[].concat(f()(Z),f()(g.data))})):(i=g.data||{},O=i.content,T=O===void 0?[]:O,c=i.total,le=c===void 0?0:c,T.length===0&&U(!1),Y(function(Z){var de=[].concat(f()(Z),f()(T));return de.length>=le&&U(!1),de})),B.next=15;break;case 11:B.prev=11,B.t0=B.catch(3),console.error(u("searchpage.searchRequestFailed"),B.t0),U(!1);case 15:case"end":return B.stop()}},a,null,[[3,11]])}));return function(){return A.apply(this,arguments)}}(),Pe=function(a){fe((a==null?void 0:a.trim())||"")},be=function(){var a=[{text:u("searchpage.byProduct")||"\u6309\u5546\u54C1",key:"product",description:w==="product"?u("searchpage.current")||"\u5F53\u524D":void 0},{text:u("searchpage.byShop")||"\u6309\u5E97\u94FA",key:"shop",description:w==="shop"?u("searchpage.current")||"\u5F53\u524D":void 0}];x.Vb.show({extra:(0,t.jsxs)("div",{style:{fontSize:18,fontWeight:600,padding:"12px 0"},children:[u("searchpage.searchType")||"\u641C\u7D22\u7C7B\u578B","\uFF1A",w==="shop"?u("searchpage.byShop")||"\u6309\u5E97\u94FA":u("searchpage.byProduct")||"\u6309\u5546\u54C1"]}),actions:[{text:(0,t.jsx)("span",{style:{fontSize:16},children:u("searchpage.byProduct")||"\u6309\u5546\u54C1"}),key:"product",description:w==="product"?u("searchpage.current")||"\u5F53\u524D":void 0},{text:(0,t.jsx)("span",{style:{fontSize:16},children:u("searchpage.byShop")||"\u6309\u5E97\u94FA"}),key:"shop",description:w==="shop"?u("searchpage.current")||"\u5F53\u524D":void 0}],cancelText:(0,t.jsx)("span",{style:{fontSize:16},children:u("searchpage.cancel")||"\u53D6\u6D88"}),closeOnAction:!0,onAction:function(i){i.key!==w&&ve(i.key)}})},je=(0,r.useMemo)(function(){return y?(0,t.jsx)("div",{style:{padding:"8px 12px 0",cursor:"pointer"},onClick:function(){localStorage.setItem("searchPageState",JSON.stringify({shopHeader:y,shopProducts:J})),z("/shopPage")},children:(0,t.jsx)(x.Zb,{style:{borderRadius:12},children:(0,t.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[(0,t.jsx)("img",{src:y.avatarUrl?"https://api.xxzh.cc"+y.avatarUrl:"",alt:y.name,style:{width:56,height:56,borderRadius:12,objectFit:"cover",background:"#f2f3f5"}}),(0,t.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,t.jsxs)("div",{style:{fontWeight:600,fontSize:16,lineHeight:"22px",display:"flex",alignItems:"center",gap:4},children:[y.name,Ee(y.level)]}),(0,t.jsx)("div",{style:{color:"#999",marginTop:2,fontSize:12,lineHeight:"18px"},children:y.description||"-"}),(0,t.jsx)("div",{style:{display:"flex",gap:6,marginTop:8,flexWrap:"wrap"},children:[y.tag1,y.tag2,y.tag3].filter(Boolean).map(function(A,a){return(0,t.jsx)("span",{style:{fontSize:11,padding:"3px 6px",borderRadius:999,background:"#f5f5f5",color:"#666"},children:A},a)})})]})]})})}):null},[y,z]),ue=D&&Be&&!y;return(0,t.jsxs)("div",{className:h.content,style:{minHeight:"100vh",background:"linear-gradient(135deg, #f5f7fa 0%, #e3e8ee 100%)",padding:"0 0 32px 0"},children:[(0,t.jsx)(p.Z,{title:u("searchpage.search"),style:{position:"fixed",top:0,left:0,right:0,zIndex:1e3,backgroundColor:"#fff",height:"100px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)"}}),(0,t.jsx)("div",{style:{position:"sticky",top:10,zIndex:999,background:"transparent",padding:"12px 12px 8px"},children:(0,t.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,t.jsx)("button",{onClick:be,"aria-label":"\u9009\u62E9\u641C\u7D22\u7C7B\u578B",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:44,height:44,borderRadius:22,border:"1px solid #eee",background:"#fff",boxShadow:"0 2px 6px rgba(0,0,0,0.06)"},children:(0,t.jsx)(l,{})}),(0,t.jsx)("div",{style:{flex:1},children:(0,t.jsx)(x.E1,{onSearch:Pe,style:{"--height":"50px",fontSize:"16px",borderRadius:"25px",backgroundColor:"#f8f9fa",padding:"0 20px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",color:"#333",outline:"none",border:"none"},placeholder:D?u("searchpage.enterShop")||"\u8F93\u5165\u5E97\u94FA\u540D":u("searchpage.enterProduct")||"\u8F93\u5165\u5546\u54C1\u540D",clearable:!0,showClearButton:!0})})]})}),je,ue&&(0,t.jsx)(x.HY,{style:{padding:"24px 0 0"},imageStyle:{width:128},description:u("searchpage.nothingHere")||"Nothing Here"}),D&&y&&J.length>0||!D&&X.length>0||ue&&X.length>0?(0,t.jsx)("div",{className:h.goodsGrid,style:{paddingTop:8},children:(D&&y?J:X).map(function(A,a){return(0,t.jsxs)("div",{className:h.goodsItem,onClick:function(){localStorage.setItem("item",JSON.stringify(A)),z("/details")},children:[(0,t.jsx)("img",{className:h.goodsImg,src:"https://api.xxzh.cc"+A.imagePath,alt:A.name}),(0,t.jsxs)("div",{className:h.goodsInfo,children:[(0,t.jsx)("span",{className:h.goodsName,children:A.name}),(0,t.jsxs)("div",{className:h.goodsPrice,children:[(0,t.jsxs)("span",{className:h.price,children:["$",A.price]}),(0,t.jsxs)("span",{className:h.sales,children:[u("home.goods.sales"),"\uFF1A",A.sales||0]}),(0,t.jsxs)("div",{className:h.goodsSeller,children:[u("details.seller"),": ",A.seller||A.uploader||"-"]})]})]})]},a)})}):!D&&(0,t.jsx)(x.HY,{style:{padding:"64px 0"},imageStyle:{width:128},description:u("searchpage.noData")}),(!D||D&&!y)&&(0,t.jsx)(x.v_,{loadMore:Q,hasMore:$,children:(0,t.jsx)(H,{hasMore:$})})]})}},64953:function(E){E.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAwUExURTyH4UOP2T2Q4kaX4/v8/gVxtNbk7TmS3gCJyLHJ3AC95QDa8gCi2XGTqpKtvXGx4VyjvccAAAAEdFJOUwHWgTn/tml/AAAA90lEQVQY02NgAAFGAQYEEHNEsBldXGBSRuKl9d/jBQ1AbMNpnuXf6yvd5iswMDB9c6lZ4eLSdd5logGDeYr7qR0uLt1rStwEGDRdfqwGcXb1u3xiEHPp2Q3i7D7hkshQ4hYD5aS4wzhdq0CcssyYVUtT0qJWHZ2WziCWFrFqaVpa1JrWaRMZ9NNCT0E4aZ8YzGde7TialhbTETizmIHx59SI1pkzI1rjgO5hrnsb0fruXUSr3EOQQ9+Fhr4DYbAvZK+G3r0bGnsR7AfGuyDO3SKw59hdXNIyZ7oVQDgpbqGhM90gHmeqT4s5OvO7AiQQFMuBQBjIAADb1GaiuuFszQAAAABJRU5ErkJggg=="},15551:function(E){E.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABgUExURQAAALAAAP8ICPcPD+8HB8MDA64DA8YFBckDA/UHB6oAAP0XF/wICPIHB8ICAtoEBP5MTP6Li/9paf58fPc+Pv5eXtogIP5zc9sHB/5WVv/b2//OzsAPD+Y0NP0LC/6kpIDadgUAAAAQdFJOUwCEousiPu4RlNHB92CIzNXjVQd3AAAAyUlEQVQoz62R2RLCIAxFYzdAWw0JW+n2/39pa6kLPjnjGR6SXHKZBIB/UhflrIpqT9riciTtjJ7ZXjoBUClDzN7M7RqXrB/0StQl7TGVFXRW+x7Rsia13kmx6UDxYnGDtF3PI0RPCoKPAyZF95igAIFipJTRUUcb4GaWuGCOuYF0doiUC05CFQzHoc8awjqidMhDpgS5jX6d0C4+M9oQV/f1wI6Q74oZT68Fn0Zz1Kem/lh9k5rcWXx+ijiPuc3Trpkym5ddbvMbdyFOFkDLbA1HAAAAAElFTkSuQmCC"},65471:function(E){E.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAwUExURQAAAN9hBN91I9xeANhmAONoAOJjAP/+rcpFAuaaV/bQjPuWEfisMfK7fvzWW/3sj/jyFcIAAAAHdFJOUwD+96oUXTZ5vloxAAAA+UlEQVQY02NgAAFnEwY4YNH/5ADnOJeXw6SCFTU0lRqVQ0DspFO1SpM0dasOASVZtcoVNcrLGyXLLyUwOH4vkrlRXt57UL1OhcGyfOKpFeXlXSslyw8z6JcL3gJx1kqUL2YQr29cBeT03pVYXsggXtV49wYSZy6IMxPEsS9vnAnkdAI5ixks/3dozvj/v3OSxP/NDInvNDRnvHvXOanpnQgD874XEE7PawMGFplDTRpnzjRp6BwGORTI2L27SfGMCshn2jtAnO6NCSA/OO3u2A1EwmDPMZaXl9e/+qUA4SwvFxR8VSUA5jBLLpc5+HZiADQQBIHAFMgAADuEaWz6zRKNAAAAAElFTkSuQmCC"},43851:function(E){E.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURQAAAJfE8GOm6cfk+m+s6ieE4P///9zu/Lva9tjs/IzL8kKT47UhPaMAAAABdFJOUwBA5thmAAAAkUlEQVQY02NgIBa4uLjs3h0aGgpisyQLgkFRAJDjlmwIYosXqQIl0pKNQZzyIqUABjcgByglDuSogjlAqXIoJ60DDFatWsrgbGwJMU0JKMOC4ADNdjaeCGILASWAZsM4IEsZnMHqwBJAKQgnAOJSZ6A6IVWos1lAnACYJzwFBVXhPmKZiJAASqkieZYlgEBoAABoySI2LqkoiAAAAABJRU5ErkJggg=="}}]);
