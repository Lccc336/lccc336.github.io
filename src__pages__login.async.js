"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5797],{34596:function(f,_,n){n.d(_,{FL:function(){return o},H:function(){return S},JR:function(){return N},Kn:function(){return D},S4:function(){return $},Ue:function(){return C},Uy:function(){return B},Vb:function(){return v},_U:function(){return g},an:function(){return P},bZ:function(){return r},eY:function(){return M},iJ:function(){return A},jw:function(){return T},nn:function(){return y},o$:function(){return c},sg:function(){return L},um:function(){return a},wX:function(){return K},x4:function(){return x},yw:function(){return l},z2:function(){return w}});var s=n(87866),E=n(33746),p=E.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function c(e){return p({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function P(e){return(0,s.Z)({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function w(e){return(0,s.Z)({url:"/auth/register",withCredentials:!1,method:"post",data:e})}function a(e){return(0,s.Z)({url:"/user/user-detail/"+e.userId,withCredentials:!1,method:"get"})}function m(e){return request({url:"/wishlist/"+e.userId,withCredentials:!1,method:"get"})}function l(e){return(0,s.Z)({url:"/message/inbox",withCredentials:!1,method:"get",params:e})}function C(e){var I=e.id;return delete e.id,(0,s.Z)({url:"/address/create?userId="+I,withCredentials:!1,method:"post",data:e})}function D(e){return(0,s.Z)({url:"/address/get",withCredentials:!1,method:"get",params:e})}function g(e){return(0,s.Z)({url:"/address/update?userId="+e.id,withCredentials:!1,method:"post",data:e})}function U(e){return request({url:"/redbag/draw",withCredentials:!1,method:"post",data:e})}function O(e){return request({url:"/user/profit",withCredentials:!1,method:"get",params:e})}function x(e){return(0,s.Z)({url:"/auth/login",withCredentials:!1,method:"post",data:e})}function d(e){return request({url:"/redbag/signin",withCredentials:!1,method:"post",data:e})}function T(e){return(0,s.Z)({url:"/redbag/signin-and-draw",withCredentials:!1,method:"post",data:e})}function y(e){return(0,s.Z)({url:"/seller/apply",withCredentials:!1,method:"post",data:e})}function A(e){return(0,s.Z)({url:"/loan/apply",withCredentials:!1,method:"post",data:e})}function S(e){return(0,s.Z)({url:"/loan/loan",withCredentials:!1,method:"post",data:e})}function $(e){return(0,s.Z)({url:"/loan/repay",withCredentials:!1,method:"post",data:e})}function H(e){return request({url:"/withdrawal-records/user",withCredentials:!1,method:"post",data:e})}function r(e){return(0,s.Z)({url:"/recharge-records/username",withCredentials:!1,method:"get",params:e})}function K(e){return(0,s.Z)({url:"/recharge-records/user",withCredentials:!1,method:"post",data:e})}function N(e){return(0,s.Z)({url:"/withdrawal-records/username",withCredentials:!1,method:"get",params:e})}function o(e){return(0,s.Z)({url:"/shop/user/"+e,withCredentials:!1,method:"get"})}function M(e){return(0,s.Z)({url:"/user/info/"+e,withCredentials:!1,method:"get"})}function B(e){return(0,s.Z)({url:"/products/uploader-to-userid?uploader="+e.uploader,withCredentials:!1,method:"get"})}function L(e){return(0,s.Z)({url:"/user/eth/get",withCredentials:!1,method:"get",params:e})}function v(e){return(0,s.Z)({url:"/user/tron/get",withCredentials:!1,method:"get",params:e})}function G(e){return request({url:"/user/eth/set",withCredentials:!1,method:"put",data:e})}function J(e){return request({url:"/user/tron/set",withCredentials:!1,method:"put",data:e})}function W(){return fetch("https://api.ipify.org?format=json")}},87866:function(f,_,n){var s=n(31759),E=n.n(s),p=n(33746),c=n(69194),P=n(18015),w=p.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e5});w.interceptors.request.use(function(a){if(a.url==="/auth/register"||a.url==="/auth/login")return a;(a.url==="/user/apply"||a.url==="/loan/apply")&&(a.headers["Content-Type"]="multipart/form-data");var m=localStorage.getItem("token");return m&&(a.headers.Authorization="Bearer "+m),a},function(a){return console.log(a),Promise.reject(a)}),w.interceptors.response.use(function(a){var m,l=a.data;if(console.log("response-->",l),Array.isArray(l))return Promise.resolve(l);if((m=l.data)!==null&&m!==void 0&&m.token&&(localStorage.setItem("token",l.data.token),localStorage.setItem("userInfo",JSON.stringify(l.data.user))),l.code!==200)return c.FN.show({icon:"fail",content:l.message}),Promise.resolve(l);if(l.code===200||l.message==="SUCCESS")return Promise.resolve(l);if(l.code===305||l.code===306){Promise.reject(l||"error");return}else return l.code===403?(c.FN.show({icon:"fail",content:l.message}),P.history.push("/login"),Promise.resolve(l||"error")):Promise.reject(l||"error")},function(a){return console.log(a,"error"),a.status===403&&(c.FN.show({icon:"fail",content:a.message}),localStorage.removeItem("token"),setTimeout(function(){P.history.push("/login")},1e3)),console.log("request error"+a,E()(a)),Promise.reject(a)}),_.Z=w},57540:function(f,_,n){n.d(_,{Z:function(){return P}});var s=n(75271),E=n(69194),p=n(52676),c=function(a){var m=a.visible;return(0,p.jsx)(E.zd,{visible:m,className:"loading-mask",children:(0,p.jsxs)("div",{className:"loading-container",children:[(0,p.jsx)(E.wW,{style:{"--size":"48px"}}),(0,p.jsx)("span",{className:"loading-text",children:"Loading..."})]})})},P=c},66611:function(f,_,n){n.r(_),n.d(_,{default:function(){return K}});var s=n(26068),E=n.n(s),p=n(90228),c=n.n(p),P=n(87999),w=n.n(P),a=n(48305),m=n.n(a),l=n(90093),C=n(83197),D=n(56413),g=n(69194),U=n(75271),O=n(34596),x=n(5791),d=n(58954),T=n(28936),y=n(48982),A=n(45918),S=n(57540),$=n(18015),H=n(59739),r=n(52676);function K(){var N=(0,H.$G)(),o=N.t,M=(0,x.s0)(),B=(0,U.useState)(!0),L=m()(B,2),v=L[0],G=L[1],J=(0,U.useState)(!1),W=m()(J,2),e=W[0],I=W[1],Q=function(){(0,O.an)(),(0,O.o$)()},V=function(){var b=w()(c()().mark(function Z(i){var h,j;return c()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(!i.username||!i.password)){u.next=2;break}return u.abrupt("return",g.FN.show({icon:"fail",content:o("login.content")}));case 2:if(v){u.next=13;break}if(!(!i.fundpassword||!i.phone||!i.invitecode)){u.next=5;break}return u.abrupt("return",g.FN.show({icon:"fail",content:o("login.content")}));case 5:if(!/\s/.test(i.username)){u.next=7;break}return u.abrupt("return",g.FN.show({icon:"fail",content:o("login.usernameNoSpace")}));case 7:if(h=/^[a-zA-Z0-9]+$/,h.test(i.username)){u.next=10;break}return u.abrupt("return",g.FN.show({icon:"fail",content:"Only a-z A-Z 0-9"}));case 10:if(j=/[a-zA-Z]/,!j.test(i.phone)){u.next=13;break}return u.abrupt("return",g.FN.show({icon:"fail",content:"Only Number 0-9"}));case 13:I(!0),Y(i);case 15:case"end":return u.stop()}},Z)}));return function(i){return b.apply(this,arguments)}}(),Y=function(){var b=w()(c()().mark(function Z(i){var h,j,k,u,X,F,z,R;return c()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!v){t.next=7;break}return t.next=4,(0,O.x4)({username_or_phone:i.username,password:i.password});case 4:h=t.sent,t.next=29;break;case 7:return j="",t.prev=8,t.next=11,fetch("https://api.ipify.org?format=json");case 11:return k=t.sent,t.next=14,k.json();case 14:u=t.sent,j=u.ip,t.next=21;break;case 18:t.prev=18,t.t0=t.catch(8),console.warn("\u83B7\u53D6IP\u5931\u8D25\uFF0C\u7EE7\u7EED\u6CE8\u518C\u6D41\u7A0B");case 21:return t.next=23,(0,O.z2)(E()(E()({},i),{},{ip:j}));case 23:if(h=t.sent,h.code!==200){t.next=29;break}return t.next=27,(0,O.x4)({username_or_phone:i.username,password:i.password});case 27:X=t.sent,h=X;case 29:I(!1),h.code===200?(localStorage.setItem("token",((F=h.data)===null||F===void 0?void 0:F.token)||""),localStorage.setItem("userInfo",JSON.stringify(((z=h.data)===null||z===void 0?void 0:z.user)||{})),localStorage.setItem("username",i.username),g.FN.show({icon:"success",content:v?"Success":"Register Success"}),R=localStorage.getItem("prevPath")||"/home",console.log("\u5F53\u524D prevPath =",R," \u5F53\u524D\u8DEF\u7531 =",location.pathname),R===location.pathname?M("/home"):M(R),localStorage.removeItem("prevPath")):g.FN.show({icon:"fail",content:h.message||"Fail"}),t.next=37;break;case 33:t.prev=33,t.t1=t.catch(0),I(!1),g.FN.show({icon:"fail",content:t.t1.message||"Network Error"});case 37:case"end":return t.stop()}},Z,null,[[0,33],[8,18]])}));return function(i){return b.apply(this,arguments)}}();return(0,U.useEffect)(function(){localStorage.setItem("prevPath","/login"),localStorage.removeItem("token"),localStorage.removeItem("userInfo"),localStorage.removeItem("username")},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S.Z,{visible:e}),(0,r.jsxs)("div",{className:d.Z.header,children:[(0,r.jsxs)("div",{className:d.Z.logoChunk,children:[(0,r.jsx)("img",{src:T,alt:""}),(0,r.jsx)("span",{children:"HK"})]}),(0,r.jsx)("div",{className:d.Z.tips,children:o("login.cyptro")}),(0,r.jsx)(l.ZP,{onClick:function(){return M("/LanguageSwitchPage")},className:d.Z.Language,children:o("login.language")})]}),(0,r.jsxs)("div",{className:d.Z.content,children:[(0,r.jsxs)("div",{className:d.Z.icons,children:[(0,r.jsxs)("div",{className:d.Z.icon_item,children:[(0,r.jsx)("img",{src:y,alt:""}),(0,r.jsx)("span",{children:o("login.nofee")}),(0,r.jsx)("span",{children:o("login.saleoff")})]}),(0,r.jsxs)("div",{className:d.Z.icon_item,children:[(0,r.jsx)("img",{src:A,alt:""}),(0,r.jsx)("span",{children:o("login.refund")}),(0,r.jsx)("span",{children:o("login.nintyday")})]})]}),(0,r.jsx)("div",{className:d.Z.from,children:(0,r.jsxs)(C.Z,{layout:"horizontal",onFinish:V,children:[(0,r.jsx)(C.Z.Item,{label:o("login.username"),name:"username",children:(0,r.jsx)(D.Z,{placeholder:o("login.username")})}),(0,r.jsx)(C.Z.Item,{label:o("login.password"),name:"password",children:(0,r.jsx)(D.Z,{placeholder:o("login.password"),type:"password"})}),!v&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.Z.Item,{label:o("login.phone"),name:"phone",children:(0,r.jsx)(D.Z,{placeholder:o("login.phone")})}),(0,r.jsx)(C.Z.Item,{label:o("login.fundpassword"),name:"fundpassword",children:(0,r.jsx)(D.Z,{placeholder:o("login.fundpassword"),type:"password"})}),(0,r.jsx)(C.Z.Item,{label:o("login.invitecode"),name:"invitecode",children:(0,r.jsx)(D.Z,{placeholder:o("login.invitecode")})})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(C.Z.Item,{children:(0,r.jsx)(l.ZP,{type:"primary",htmlType:"submit",className:d.Z.submit,children:o(v?"login.submit":"login.register")})}),(0,r.jsx)("span",{className:d.Z.switch,onClick:function(){return G(!v)},children:o(v?"login.register":"login.gologin")}),v&&(0,r.jsx)("div",{className:d.Z.contactSupport,onClick:function(){return M("/order/meeting")},children:o("home.footer.customerService")})]})})]})]})}},58954:function(f,_){_.Z={loginContainer:"loginContainer____VnY_",header:"header___zT8pi",logoChunk:"logoChunk___awGh5",Language:"Language___rg0P4",tips:"tips___uUgm8",content:"content___XKXsU",icons:"icons___yRpvd",icon_item:"icon_item___RMZlM",from:"from___hOciD",submit:"submit___s6nvi",switch:"switch___dw9M1",contactSupport:"contactSupport___SoXRu"}},48982:function(f,_,n){f.exports=n.p+"static/login_1.7a21782e.webp"},45918:function(f,_,n){f.exports=n.p+"static/login_2.0613a608.webp"},28936:function(f,_,n){f.exports=n.p+"static/logo.a6b1e098.webp"}}]);
