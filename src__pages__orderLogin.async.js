"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8571],{34596:function(f,_,n){n.d(_,{FL:function(){return M},H:function(){return T},JR:function(){return o},Kn:function(){return D},S4:function(){return A},Ue:function(){return E},Uy:function(){return I},Vb:function(){return B},_U:function(){return g},an:function(){return P},bZ:function(){return K},eY:function(){return S},iJ:function(){return y},jw:function(){return R},nn:function(){return x},o$:function(){return c},sg:function(){return v},um:function(){return a},wX:function(){return N},x4:function(){return L},yw:function(){return i},z2:function(){return C}});var s=n(87866),w=n(33746),p=w.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function c(e){return p({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function P(e){return(0,s.Z)({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function C(e){return(0,s.Z)({url:"/auth/register",withCredentials:!1,method:"post",data:e})}function a(e){return(0,s.Z)({url:"/user/user-detail/"+e.userId,withCredentials:!1,method:"get"})}function m(e){return request({url:"/wishlist/"+e.userId,withCredentials:!1,method:"get"})}function i(e){return(0,s.Z)({url:"/message/inbox",withCredentials:!1,method:"get",params:e})}function E(e){var G=e.id;return delete e.id,(0,s.Z)({url:"/address/create?userId="+G,withCredentials:!1,method:"post",data:e})}function D(e){return(0,s.Z)({url:"/address/get",withCredentials:!1,method:"get",params:e})}function g(e){return(0,s.Z)({url:"/address/update?userId="+e.id,withCredentials:!1,method:"post",data:e})}function U(e){return request({url:"/redbag/draw",withCredentials:!1,method:"post",data:e})}function O(e){return request({url:"/user/profit",withCredentials:!1,method:"get",params:e})}function L(e){return(0,s.Z)({url:"/auth/login",withCredentials:!1,method:"post",data:e})}function d(e){return request({url:"/redbag/signin",withCredentials:!1,method:"post",data:e})}function R(e){return(0,s.Z)({url:"/redbag/signin-and-draw",withCredentials:!1,method:"post",data:e})}function x(e){return(0,s.Z)({url:"/seller/apply",withCredentials:!1,method:"post",data:e})}function y(e){return(0,s.Z)({url:"/loan/apply",withCredentials:!1,method:"post",data:e})}function T(e){return(0,s.Z)({url:"/loan/loan",withCredentials:!1,method:"post",data:e})}function A(e){return(0,s.Z)({url:"/loan/repay",withCredentials:!1,method:"post",data:e})}function r(e){return request({url:"/withdrawal-records/user",withCredentials:!1,method:"post",data:e})}function K(e){return(0,s.Z)({url:"/recharge-records/username",withCredentials:!1,method:"get",params:e})}function N(e){return(0,s.Z)({url:"/recharge-records/user",withCredentials:!1,method:"post",data:e})}function o(e){return(0,s.Z)({url:"/withdrawal-records/username",withCredentials:!1,method:"get",params:e})}function M(e){return(0,s.Z)({url:"/shop/user/"+e,withCredentials:!1,method:"get"})}function S(e){return(0,s.Z)({url:"/user/info/"+e,withCredentials:!1,method:"get"})}function I(e){return(0,s.Z)({url:"/products/uploader-to-userid?uploader="+e.uploader,withCredentials:!1,method:"get"})}function v(e){return(0,s.Z)({url:"/user/eth/get",withCredentials:!1,method:"get",params:e})}function B(e){return(0,s.Z)({url:"/user/tron/get",withCredentials:!1,method:"get",params:e})}function $(e){return request({url:"/user/eth/set",withCredentials:!1,method:"put",data:e})}function W(e){return request({url:"/user/tron/set",withCredentials:!1,method:"put",data:e})}function H(){return fetch("https://api.ipify.org?format=json")}},87866:function(f,_,n){var s=n(31759),w=n.n(s),p=n(33746),c=n(69194),P=n(18015),C=p.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e5});C.interceptors.request.use(function(a){if(a.url==="/auth/register"||a.url==="/auth/login")return a;(a.url==="/user/apply"||a.url==="/loan/apply")&&(a.headers["Content-Type"]="multipart/form-data");var m=localStorage.getItem("token");return m&&(a.headers.Authorization="Bearer "+m),a},function(a){return console.log(a),Promise.reject(a)}),C.interceptors.response.use(function(a){var m,i=a.data;if(console.log("response-->",i),Array.isArray(i))return Promise.resolve(i);if((m=i.data)!==null&&m!==void 0&&m.token&&(localStorage.setItem("token",i.data.token),localStorage.setItem("userInfo",JSON.stringify(i.data.user))),i.code!==200)return c.FN.show({icon:"fail",content:i.message}),Promise.resolve(i);if(i.code===200||i.message==="SUCCESS")return Promise.resolve(i);if(i.code===305||i.code===306){Promise.reject(i||"error");return}else return i.code===403?(c.FN.show({icon:"fail",content:i.message}),P.history.push("/login"),Promise.resolve(i||"error")):Promise.reject(i||"error")},function(a){return console.log(a,"error"),a.status===403&&(c.FN.show({icon:"fail",content:a.message}),localStorage.removeItem("token"),setTimeout(function(){P.history.push("/login")},1e3)),console.log("request error"+a,w()(a)),Promise.reject(a)}),_.Z=C},57540:function(f,_,n){n.d(_,{Z:function(){return P}});var s=n(75271),w=n(69194),p=n(52676),c=function(a){var m=a.visible;return(0,p.jsx)(w.zd,{visible:m,className:"loading-mask",children:(0,p.jsxs)("div",{className:"loading-container",children:[(0,p.jsx)(w.wW,{style:{"--size":"48px"}}),(0,p.jsx)("span",{className:"loading-text",children:"Loading..."})]})})},P=c},23089:function(f,_,n){n.r(_),n.d(_,{default:function(){return K}});var s=n(26068),w=n.n(s),p=n(90228),c=n.n(p),P=n(87999),C=n.n(P),a=n(48305),m=n.n(a),i=n(90093),E=n(83197),D=n(56413),g=n(69194),U=n(75271),O=n(34596),L=n(5791),d=n(58954),R=n(28936),x=n(48982),y=n(45918),T=n(57540),A=n(59739),r=n(52676);function K(){var N=(0,A.$G)(),o=N.t,M=(0,L.s0)(),S=(0,U.useState)(!0),I=m()(S,2),v=I[0],B=I[1],$=(0,U.useState)(!1),W=m()($,2),H=W[0],e=W[1],G=function(){(0,O.an)(),(0,O.o$)()},X=function(){var b=C()(c()().mark(function Z(l){var h,j;return c()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(!l.username||!l.password)){u.next=2;break}return u.abrupt("return",g.FN.show({icon:"fail",content:o("login.content")}));case 2:if(v){u.next=13;break}if(!(!l.fundpassword||!l.phone||!l.invitecode)){u.next=5;break}return u.abrupt("return",g.FN.show({icon:"fail",content:o("login.content")}));case 5:if(!/\s/.test(l.username)){u.next=7;break}return u.abrupt("return",g.FN.show({icon:"fail",content:o("login.usernameNoSpace")}));case 7:if(h=/^[a-zA-Z0-9]+$/,h.test(l.username)){u.next=10;break}return u.abrupt("return",g.FN.show({icon:"fail",content:"Only a-z A-Z 0-9"}));case 10:if(j=/[a-zA-Z]/,!j.test(l.phone)){u.next=13;break}return u.abrupt("return",g.FN.show({icon:"fail",content:"Only Number 0-9"}));case 13:e(!0),V(l);case 15:case"end":return u.stop()}},Z)}));return function(l){return b.apply(this,arguments)}}(),V=function(){var b=C()(c()().mark(function Z(l){var h,j,k,u,J,F,z;return c()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!v){t.next=7;break}return t.next=4,(0,O.x4)({username_or_phone:l.username,password:l.password});case 4:h=t.sent,t.next=29;break;case 7:return j="",t.prev=8,t.next=11,fetch("https://api.ipify.org?format=json");case 11:return k=t.sent,t.next=14,k.json();case 14:u=t.sent,j=u.ip,t.next=21;break;case 18:t.prev=18,t.t0=t.catch(8),console.warn("\u83B7\u53D6IP\u5931\u8D25\uFF0C\u7EE7\u7EED\u6CE8\u518C\u6D41\u7A0B");case 21:return t.next=23,(0,O.z2)(w()(w()({},l),{},{ip:j}));case 23:if(h=t.sent,h.code!==200){t.next=29;break}return t.next=27,(0,O.x4)({username_or_phone:l.username,password:l.password});case 27:J=t.sent,h=J;case 29:e(!1),h.code===200?(localStorage.setItem("token",((F=h.data)===null||F===void 0?void 0:F.token)||""),localStorage.setItem("userInfo",JSON.stringify(((z=h.data)===null||z===void 0?void 0:z.user)||{})),localStorage.setItem("username",l.username),g.FN.show({icon:"success",content:v?"Success":"Register Success"}),M("/order",{replace:!0})):g.FN.show({icon:"fail",content:h.message||"Fail"}),t.next=37;break;case 33:t.prev=33,t.t1=t.catch(0),e(!1),g.FN.show({icon:"fail",content:t.t1.message||"Network Error"});case 37:case"end":return t.stop()}},Z,null,[[0,33],[8,18]])}));return function(l){return b.apply(this,arguments)}}();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T.Z,{visible:H}),(0,r.jsxs)("div",{className:d.Z.header,children:[(0,r.jsxs)("div",{className:d.Z.logoChunk,children:[(0,r.jsx)("img",{src:R,alt:""}),(0,r.jsx)("span",{children:"HK"})]}),(0,r.jsx)("div",{className:d.Z.tips,children:o("login.cyptro")}),(0,r.jsx)(i.ZP,{onClick:function(){return M("/LanguageSwitchPage")},className:d.Z.Language,children:o("login.language")})]}),(0,r.jsxs)("div",{className:d.Z.content,children:[(0,r.jsxs)("div",{className:d.Z.icons,children:[(0,r.jsxs)("div",{className:d.Z.icon_item,children:[(0,r.jsx)("img",{src:x,alt:""}),(0,r.jsx)("span",{children:o("login.nofee")}),(0,r.jsx)("span",{children:o("login.saleoff")})]}),(0,r.jsxs)("div",{className:d.Z.icon_item,children:[(0,r.jsx)("img",{src:y,alt:""}),(0,r.jsx)("span",{children:o("login.refund")}),(0,r.jsx)("span",{children:o("login.nintyday")})]})]}),(0,r.jsx)("div",{className:d.Z.from,children:(0,r.jsxs)(E.Z,{layout:"horizontal",onFinish:X,children:[(0,r.jsx)(E.Z.Item,{label:o("login.username"),name:"username",children:(0,r.jsx)(D.Z,{placeholder:o("login.username")})}),(0,r.jsx)(E.Z.Item,{label:o("login.password"),name:"password",children:(0,r.jsx)(D.Z,{placeholder:o("login.password"),type:"password"})}),!v&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.Z.Item,{label:o("login.phone"),name:"phone",children:(0,r.jsx)(D.Z,{placeholder:o("login.phone")})}),(0,r.jsx)(E.Z.Item,{label:o("login.fundpassword"),name:"fundpassword",children:(0,r.jsx)(D.Z,{placeholder:o("login.fundpassword"),type:"password"})}),(0,r.jsx)(E.Z.Item,{label:o("login.invitecode"),name:"invitecode",children:(0,r.jsx)(D.Z,{placeholder:o("login.invitecode")})})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(E.Z.Item,{children:(0,r.jsx)(i.ZP,{type:"primary",htmlType:"submit",className:d.Z.submit,children:o(v?"login.submit":"login.register")})}),(0,r.jsx)("span",{className:d.Z.switch,onClick:function(){return B(!v)},children:o(v?"login.register":"login.gologin")}),v&&(0,r.jsx)("div",{className:d.Z.contactSupport,onClick:function(){return M("/order/meeting")},children:o("home.footer.customerService")})]})})]})]})}},58954:function(f,_){_.Z={loginContainer:"loginContainer____VnY_",header:"header___zT8pi",logoChunk:"logoChunk___awGh5",Language:"Language___rg0P4",tips:"tips___uUgm8",content:"content___XKXsU",icons:"icons___yRpvd",icon_item:"icon_item___RMZlM",from:"from___hOciD",submit:"submit___s6nvi",switch:"switch___dw9M1",contactSupport:"contactSupport___SoXRu"}},48982:function(f,_,n){f.exports=n.p+"static/login_1.7a21782e.webp"},45918:function(f,_,n){f.exports=n.p+"static/login_2.0613a608.webp"},28936:function(f,_,n){f.exports=n.p+"static/logo.a6b1e098.webp"}}]);
