"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8010],{34596:function(S,_,a){a.d(_,{FL:function(){return D},H:function(){return H},JR:function(){return O},Kn:function(){return l},S4:function(){return V},Ue:function(){return u},Uy:function(){return I},Vb:function(){return j},_U:function(){return m},an:function(){return C},bZ:function(){return F},eY:function(){return P},iJ:function(){return z},jw:function(){return M},nn:function(){return K},o$:function(){return h},sg:function(){return A},um:function(){return o},wX:function(){return n},x4:function(){return t},yw:function(){return e},z2:function(){return c}});var s=a(87866),b=a(33746),x=b.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function h(r){return x({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:r})}function C(r){return(0,s.Z)({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:r})}function c(r){return(0,s.Z)({url:"/auth/register",withCredentials:!1,method:"post",data:r})}function o(r){return(0,s.Z)({url:"/user/user-detail/"+r.userId,withCredentials:!1,method:"get"})}function f(r){return request({url:"/wishlist/"+r.userId,withCredentials:!1,method:"get"})}function e(r){return(0,s.Z)({url:"/message/inbox",withCredentials:!1,method:"get",params:r})}function u(r){var B=r.id;return delete r.id,(0,s.Z)({url:"/address/create?userId="+B,withCredentials:!1,method:"post",data:r})}function l(r){return(0,s.Z)({url:"/address/get",withCredentials:!1,method:"get",params:r})}function m(r){return(0,s.Z)({url:"/address/update?userId="+r.id,withCredentials:!1,method:"post",data:r})}function p(r){return request({url:"/redbag/draw",withCredentials:!1,method:"post",data:r})}function g(r){return request({url:"/user/profit",withCredentials:!1,method:"get",params:r})}function t(r){return(0,s.Z)({url:"/auth/login",withCredentials:!1,method:"post",data:r})}function k(r){return request({url:"/redbag/signin",withCredentials:!1,method:"post",data:r})}function M(r){return(0,s.Z)({url:"/redbag/signin-and-draw",withCredentials:!1,method:"post",data:r})}function K(r){return(0,s.Z)({url:"/seller/apply",withCredentials:!1,method:"post",data:r})}function z(r){return(0,s.Z)({url:"/loan/apply",withCredentials:!1,method:"post",data:r})}function H(r){return(0,s.Z)({url:"/loan/loan",withCredentials:!1,method:"post",data:r})}function V(r){return(0,s.Z)({url:"/loan/repay",withCredentials:!1,method:"post",data:r})}function $(r){return request({url:"/withdrawal-records/user",withCredentials:!1,method:"post",data:r})}function F(r){return(0,s.Z)({url:"/recharge-records/username",withCredentials:!1,method:"get",params:r})}function n(r){return(0,s.Z)({url:"/recharge-records/user",withCredentials:!1,method:"post",data:r})}function O(r){return(0,s.Z)({url:"/withdrawal-records/username",withCredentials:!1,method:"get",params:r})}function D(r){return(0,s.Z)({url:"/shop/user/"+r,withCredentials:!1,method:"get"})}function P(r){return(0,s.Z)({url:"/user/info/"+r,withCredentials:!1,method:"get"})}function I(r){return(0,s.Z)({url:"/products/uploader-to-userid?uploader="+r.uploader,withCredentials:!1,method:"get"})}function A(r){return(0,s.Z)({url:"/user/eth/get",withCredentials:!1,method:"get",params:r})}function j(r){return(0,s.Z)({url:"/user/tron/get",withCredentials:!1,method:"get",params:r})}function L(r){return request({url:"/user/eth/set",withCredentials:!1,method:"put",data:r})}function y(r){return request({url:"/user/tron/set",withCredentials:!1,method:"put",data:r})}function U(){return fetch("https://api.ipify.org?format=json")}},87866:function(S,_,a){var s=a(31759),b=a.n(s),x=a(33746),h=a(69194),C=a(18015),c=x.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e5});c.interceptors.request.use(function(o){if(o.url==="/auth/register"||o.url==="/auth/login")return o;(o.url==="/user/apply"||o.url==="/loan/apply")&&(o.headers["Content-Type"]="multipart/form-data");var f=localStorage.getItem("token");return f&&(o.headers.Authorization="Bearer "+f),o},function(o){return console.log(o),Promise.reject(o)}),c.interceptors.response.use(function(o){var f,e=o.data;if(console.log("response-->",e),Array.isArray(e))return Promise.resolve(e);if((f=e.data)!==null&&f!==void 0&&f.token&&(localStorage.setItem("token",e.data.token),localStorage.setItem("userInfo",JSON.stringify(e.data.user))),e.code!==200)return h.FN.show({icon:"fail",content:e.message}),Promise.resolve(e);if(e.code===200||e.message==="SUCCESS")return Promise.resolve(e);if(e.code===305||e.code===306){Promise.reject(e||"error");return}else return e.code===403?(h.FN.show({icon:"fail",content:e.message}),C.history.push("/login"),Promise.resolve(e||"error")):Promise.reject(e||"error")},function(o){return console.log(o,"error"),o.status===403&&(h.FN.show({icon:"fail",content:o.message}),localStorage.removeItem("token"),setTimeout(function(){C.history.push("/login")},1e3)),console.log("request error"+o,b()(o)),Promise.reject(o)}),_.Z=c},72283:function(S,_,a){a.d(_,{Bi:function(){return c},Vj:function(){return o},c9:function(){return f},dN:function(){return C}});var s=a(25298),b=a.n(s),x=a(17069),h=a.n(x);function C(e){return isNaN(e)?"0.00":Number(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function c(e){var u=new Date(e),l=u.getFullYear(),m=String(u.getMonth()+1).padStart(2,"0"),p=String(u.getDate()).padStart(2,"0"),g="".concat(l,"-").concat(m,"-").concat(p);return g}function o(e,u,l){for(var m={},p=100/l,g=0;g<=l;g++){var t=g*p,k=(e+(u-e)*t/100).toFixed(2);m[t]=parseFloat(k)}return m}var f=function(){function e(u){b()(this,e),this.url=u,this.ws=null,this.listeners=[],this.onOpenCallbacks=[],this.onCloseCallbacks=[],this.onErrorCallbacks=[]}return h()(e,[{key:"connect",value:function(){var l=this;this.ws||(this.ws=new window.WebSocket(this.url),this.ws.onopen=function(){l.onOpenCallbacks.forEach(function(m){return m()})},this.ws.onmessage=function(m){var p=m.data;try{p=JSON.parse(p)}catch(g){}l.listeners.forEach(function(g){return g(p)})},this.ws.onclose=function(m){l.onCloseCallbacks.forEach(function(p){return p(m)})},this.ws.onerror=function(m){l.onErrorCallbacks.forEach(function(p){return p(m)})})}},{key:"send",value:function(l){console.log(this.ws,"this.ws"),!(!this.ws||this.ws.readyState!==1)&&(typeof l!="string"&&(l=JSON.stringify(l)),this.ws.send(l))}},{key:"onMessage",value:function(l){this.listeners.push(l)}},{key:"close",value:function(){this.ws&&(this.ws.close(),this.ws=null)}},{key:"onOpen",value:function(l){this.onOpenCallbacks.push(l)}},{key:"onClose",value:function(l){this.onCloseCallbacks.push(l)}},{key:"onError",value:function(l){this.onErrorCallbacks.push(l)}}]),e}()},84908:function(S,_,a){var s=a(69194),b=a(75271),x=a(5791),h=a(52676),C=function(o){var f=o.title,e=(0,x.s0)(),u=function(){e(-1)};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(s.l2,{onBack:u,style:{background:"#fff",position:"sticky",top:0,zIndex:1e3},children:f})})};_.Z=C},84164:function(S,_,a){a.r(_),a.d(_,{default:function(){return $}});var s=a(90228),b=a.n(s),x=a(87999),h=a.n(x),C=a(48305),c=a.n(C),o=a(75271),f=a(84908),e=a(69194),u={address:"address___l5NkW",content:"content___NE0ll",button:"button___YFL39"},l=a(34596),m=a(5791),p={},g=a(72283),t=a(52676),k=new Date,M=new Date;M.setFullYear(M.getFullYear()-100);var K=function(n){var O=n.onConfrim,D=n.shengri,P=(0,o.useState)(!1),I=c()(P,2),A=I[0],j=I[1],L=(0,o.useState)(k),y=c()(L,2),U=y[0],r=y[1],B=function(Y){console.log(Y),r(Y)},R=function(){j(!0)},T=function(){j(!1)},J=function(){O((0,g.Bi)(U)),j(!1)};return(0,t.jsxs)("div",{className:p.birthdayPicker,children:[(0,t.jsx)("div",{onClick:R,style:{color:"blue",paddingLeft:"50px"},children:D||"Select birthday"}),(0,t.jsxs)(e.GI,{visible:A,onMaskClick:T,bodyStyle:{borderTopLeftRadius:"8px",borderTopRightRadius:"8px",minHeight:"40vh"},children:[(0,t.jsx)(e.Uc,{defaultValue:k,value:U,style:{"--height":"200px"},min:M,max:k}),(0,t.jsxs)("div",{style:{padding:"12px"},children:[(0,t.jsx)(e.zx,{block:!0,onClick:T,style:{fontSize:"18px",marginBottom:"10px"},children:"Cancel"}),(0,t.jsx)(e.zx,{block:!0,onClick:J,type:"primary",style:{color:"white",backgroundColor:"#1d7dfa",fontSize:"18px"},children:"Confrim"})]})]})]})},z=K,H=a(59739),V=[{key:"Male",title:"Male"},{key:"Female",title:"Female"}];function $(){var F=(0,H.$G)(),n=F.t,O=(0,m.s0)(),D=(0,o.useState)([]),P=c()(D,2),I=P[0],A=P[1],j=(0,o.useState)([]),L=c()(j,2),y=L[0],U=L[1],r=(0,o.useState)([]),B=c()(r,2),R=B[0],T=B[1],J=(0,o.useState)([]),N=c()(J,2),Y=N[0],te=N[1],re=(0,o.useState)(""),X=c()(re,2),q=X[0],ne=X[1],ae=(0,o.useState)(!1),Q=c()(ae,2),oe=Q[0],se=Q[1],ue=function(d){te(d)},G=function(d){return console.log(d),{url:URL.createObjectURL(d),file:d}},le=function(){var v=h()(b()().mark(function d(i){var ee,Z,W;return b()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(console.log(i,"values"),console.log(I,"fileList"),ee=JSON.parse(localStorage.getItem("userInfo")),i.agreementConfirmed=!0,i.idCardFront=I,i.idCardBack=y,i.username=ee.username,i.birthDate=q,i.assetProof||delete i.assetProof,!(!i.firstName||!i.lastName||!i.gender||!i.phoneNumber||!i.birthDate||!i.annualIncome||!i.bankName||!i.bankAccountNumber||!i.cvv||!i.idCardFront||!i.idCardBack||!i.postalCode||!i.loanAmountRange)){w.next=12;break}return e.FN.show({icon:"fail",content:n("approve.fillComplete")}),w.abrupt("return");case 12:return Z=new FormData,Object.keys(i).forEach(function(E){if(E=="idCardFront"||E=="idCardBack"||E=="assetProof"){Z.append(E,i[E][0].file);return}Z.append(E,i[E])}),w.next=16,(0,l.iJ)(Z);case 16:if(W=w.sent,W.code!=200){w.next=21;break}return e.FN.show({icon:"success",content:W.message}),setTimeout(function(){O("/home")},2e3),w.abrupt("return");case 21:e.FN.show({icon:"fail",content:W.message});case 22:case"end":return w.stop()}},d)}));return function(i){return v.apply(this,arguments)}}(),ie=function(d){le(d)};return(0,t.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f5f7fa 0%, #e3e8ee 100%)",padding:"0 0 32px 0"},className:u.address,children:[(0,t.jsx)(f.Z,{title:n("approve.loanApplication"),style:{height:"100px"}}),oe?(0,t.jsxs)(e.l0,{layout:"horizontal",onFinish:ie,mode:"card",footer:(0,t.jsx)(e.zx,{block:!0,type:"submit",color:"primary",size:"large",children:n("approve.submit")}),children:[(0,t.jsx)(e.l0.Item,{required:!0,name:"firstName",label:n("approve.firstName"),children:(0,t.jsx)(e.II,{placeholder:n("approve.enterFirstName")})}),(0,t.jsx)(e.l0.Item,{name:"middleName",label:n("approve.middleName"),children:(0,t.jsx)(e.II,{placeholder:n("approve.enterMiddleName")})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"lastName",label:n("approve.lastName"),children:(0,t.jsx)(e.II,{placeholder:n("approve.enterLastName")})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"gender",label:n("approve.gender"),children:(0,t.jsx)(e.Y8.Group,{children:(0,t.jsx)(e.T,{direction:"vertical",children:V.map(function(v){return(0,t.jsx)(e.Y8,{value:v.key,children:v.title},v.key)})})})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"phoneNumber",label:n("approve.phoneNumber"),children:(0,t.jsx)(e.II,{placeholder:n("approve.enterPhoneNumber"),type:"number",min:"0",step:"1"})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"birthDate",label:n("approve.birthDate"),children:(0,t.jsx)(z,{shengri:q,onConfrim:function(d){ne(d),console.log(d,"confirm")}})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"annualIncome",label:n("approve.annualIncome"),children:(0,t.jsx)(e.II,{placeholder:n("approve.enterAnnualIncome"),type:"number",min:"0",step:"1"})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"bankName",label:n("approve.bankName"),children:(0,t.jsx)(e.II,{placeholder:n("approve.enterBankName")})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"bankAccountNumber",label:n("approve.bankAccountNumber"),children:(0,t.jsx)(e.II,{placeholder:n("approve.enterBankAccountNumber"),type:"number",min:"0",step:"1"})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"cvv",label:n("approve.cvv"),children:(0,t.jsx)(e.II,{placeholder:n("approve.enterCvv"),type:"number",min:"0",step:"1"})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"bankCardExpiry",label:n("approve.bankCardExpiry"),children:(0,t.jsx)(e.II,{placeholder:n("approve.enterBankCardExpiry"),type:"number",min:"0",step:"1"})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"country",label:n("approve.country"),children:(0,t.jsx)(e.II,{placeholder:n("approve.enterCountry")})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"stateOrProvince",label:n("approve.stateOrProvince"),children:(0,t.jsx)(e.II,{placeholder:n("approve.enterStateOrProvince")})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"city",label:n("approve.city"),children:(0,t.jsx)(e.II,{placeholder:n("approve.enterCity")})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"addressLine1",label:n("approve.addressLine1"),children:(0,t.jsx)(e.II,{placeholder:n("approve.enterAddressLine1")})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"addressLine2",label:n("approve.addressLine2"),children:(0,t.jsx)(e.II,{placeholder:n("approve.enterAddressLine2")})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"postalCode",label:n("approve.postalCode"),children:(0,t.jsx)(e.II,{placeholder:n("approve.enterPostalCode"),type:"number",min:"0",step:"1"})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"loanAmountRange",label:n("approve.loanAmountRange"),children:(0,t.jsx)(e.II,{placeholder:n("approve.enterLoanAmountRange")})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"idCardFront",label:n("approve.idCardFront"),children:(0,t.jsx)(e.wA,{value:I,onChange:A,upload:G,multiple:!0,maxCount:1,showUpload:I.length<1,onCountExceed:function(d){e.FN.show("".concat(n("approve.maxSelectImage")," 1 ").concat(n("approve.youSelectedTooMany")," ").concat(d))}})}),(0,t.jsx)(e.l0.Item,{required:!0,name:"idCardBack",label:n("approve.idCardBack"),children:(0,t.jsx)(e.wA,{value:y,onChange:U,upload:G,multiple:!0,maxCount:1,showUpload:y.length<1,onCountExceed:function(d){e.FN.show("".concat(n("approve.maxSelectImage")," 1 ").concat(n("approve.youSelectedTooMany")," ").concat(d))}})}),(0,t.jsx)(e.l0.Item,{name:"assetProof",label:n("approve.assetProof"),children:(0,t.jsx)(e.wA,{value:R,onChange:T,upload:G,multiple:!0,maxCount:1,showUpload:R.length<1,onCountExceed:function(d){e.FN.show("".concat(n("approve.maxSelectImage")," 1 ").concat(n("approve.youSelectedTooMany")," ").concat(d))}})}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(e.l0.Header,{})]}):(0,t.jsxs)("div",{className:u.content,children:[(0,t.jsx)("div",{className:u.button,onClick:function(){return se(!0)},children:"Apply"}),(0,t.jsx)("img",{src:a(72823),alt:""})]})]})}},72823:function(S,_,a){S.exports=a.p+"static/banner4.e25b8ce1.png"}}]);
