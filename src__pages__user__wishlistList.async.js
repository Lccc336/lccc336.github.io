"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1909],{10235:function(x,f,t){t.d(f,{GD:function(){return A},Gj:function(){return s},Iw:function(){return I},LG:function(){return D},MX:function(){return p},PY:function(){return u},QK:function(){return r},RB:function(){return y},Sp:function(){return L},ZZ:function(){return U},_r:function(){return S},aV:function(){return j},b7:function(){return g},dt:function(){return _},fY:function(){return O},if:function(){return T},kh:function(){return B},lz:function(){return b},mg:function(){return R},t0:function(){return o},yC:function(){return M}});var n=t(87866),c=t(33746),v=c.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function l(e){return request({url:"/task/grab",withCredentials:!1,method:"post",data:e})}function p(){return(0,n.Z)({url:"/products/random",method:"get"})}function _(e){return(0,n.Z)({url:"/products/random/type",method:"get",params:e})}function r(e){return(0,n.Z)({url:"/wishlist/add",method:"post",data:e})}function u(e){return(0,n.Z)({url:"/wishlist/"+e,method:"get"})}function o(e,w){return(0,n.Z)({url:"/wishlist/delete/".concat(e,"/").concat(w),method:"delete"})}function g(e){return(0,n.Z)({url:"/orders/buy",method:"post",data:e})}function D(e){return(0,n.Z)({url:"/orders/buy/all",method:"get",params:e})}function I(e){return(0,n.Z)({url:"/orders/buy/pending",method:"get",params:e})}function s(e){return(0,n.Z)({url:"/orders/buy/processing",method:"get",params:e})}function j(e){return(0,n.Z)({url:"/orders/buy/refunding",method:"get",params:e})}function R(e){return(0,n.Z)({url:"/orders/buy/delivered",method:"get",params:e})}function M(e){return(0,n.Z)({url:"/products/search",method:"get",params:e})}function O(e){return(0,n.Z)({url:"/shop/".concat(e.shopId,"/available-products"),method:"get",params:e})}function A(e){return(0,n.Z)({url:"/shop/products/priceRange",method:"get",params:e})}function U(e){return(0,n.Z)({url:"/shop/".concat(e.shopId,"/orders"),method:"get",params:e})}function y(e){return(0,n.Z)({url:"/shop/".concat(e,"/products"),method:"get",params:{size:100}})}function L(e){return(0,n.Z)({url:"/shop/".concat(e,"/order/summary"),method:"get",params:{shopId:e}})}function S(e){return(0,n.Z)({url:"/shop/".concat(e.shopId,"/payOrder"),method:"post",data:e})}function T(e){return(0,n.Z)({url:"/shop/listProduct",method:"post",data:e})}function b(e){return(0,n.Z)({url:"/shop/products/editPrice",method:"post",data:e})}function B(e){return(0,n.Z)({url:"/shop/removeProduct",method:"post",data:e})}},87866:function(x,f,t){var n=t(31759),c=t.n(n),v=t(33746),l=t(69194),p=t(18015),_=v.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e5});_.interceptors.request.use(function(r){if(r.url==="/auth/register"||r.url==="/auth/login")return r;(r.url==="/user/apply"||r.url==="/loan/apply")&&(r.headers["Content-Type"]="multipart/form-data");var u=localStorage.getItem("token");return u&&(r.headers.Authorization="Bearer "+u),r},function(r){return console.log(r),Promise.reject(r)}),_.interceptors.response.use(function(r){var u,o=r.data;if(console.log("response-->",o),Array.isArray(o))return Promise.resolve(o);if((u=o.data)!==null&&u!==void 0&&u.token&&(localStorage.setItem("token",o.data.token),localStorage.setItem("userInfo",JSON.stringify(o.data.user))),o.code!==200)return l.FN.show({icon:"fail",content:o.message}),Promise.resolve(o);if(o.code===200||o.message==="SUCCESS")return Promise.resolve(o);if(o.code===305||o.code===306){Promise.reject(o||"error");return}else return o.code===403?(l.FN.show({icon:"fail",content:o.message}),p.history.push("/login"),Promise.resolve(o||"error")):Promise.reject(o||"error")},function(r){return console.log(r,"error"),r.status===403&&(l.FN.show({icon:"fail",content:r.message}),localStorage.removeItem("token"),setTimeout(function(){p.history.push("/login")},1e3)),console.log("request error"+r,c()(r)),Promise.reject(r)}),f.Z=_},84908:function(x,f,t){var n=t(69194),c=t(75271),v=t(5791),l=t(52676),p=function(r){var u=r.title,o=(0,v.s0)(),g=function(){o(-1)};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n.l2,{onBack:g,style:{background:"#fff",position:"sticky",top:0,zIndex:1e3},children:u})})};f.Z=p},42803:function(x,f,t){t.r(f),t.d(f,{default:function(){return j}});var n=t(90228),c=t.n(n),v=t(87999),l=t.n(v),p=t(48305),_=t.n(p),r=t(75271),u=t(69194),o=t(84908),g=t(10235),D=t(5791),I=t(59739),s=t(52676);function j(){var R=(0,r.useState)([]),M=_()(R,2),O=M[0],A=M[1],U=(0,r.useState)(!0),y=_()(U,2),L=y[0],S=y[1],T=(0,r.useState)({page:0}),b=_()(T,2),B=b[0],e=b[1],w=(0,D.s0)(),W=(0,I.$G)(),C=W.t,Z=function(){var a=l()(c()().mark(function i(){var h,m;return c()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return h=JSON.parse(localStorage.getItem("userInfo")),d.next=3,(0,g.PY)(h.id);case 3:m=d.sent,S(!1),A(m.data);case 6:case"end":return d.stop()}},i)}));return function(){return a.apply(this,arguments)}}(),K=function(){var a=l()(c()().mark(function i(h,m){var E,d;return c()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return E=JSON.parse(localStorage.getItem("userInfo")),P.next=3,(0,g.t0)(E.id,m);case 3:d=P.sent,d.code==200&&u.FN.show({icon:"success",content:C("wishlistList.deleteSuccess")}),Z();case 6:case"end":return P.stop()}},i)}));return function(h,m){return a.apply(this,arguments)}}(),k=function(i){localStorage.setItem("item",JSON.stringify(i)),w("/details")};return(0,s.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f5f7fa 0%, #e3e8ee 100%)",padding:"0 0 32px 0"},children:[(0,s.jsx)(o.Z,{title:C("wishlistList.myWishlist"),style:{height:"100px"}}),O.length>0?(0,s.jsx)(u.aV,{style:{"--border-top":"none","--border-bottom":"none"},children:O.map(function(a){var i,h,m;return(0,s.jsx)(u.aV.Item,{description:(0,s.jsx)("span",{style:{color:"#666",fontSize:14},children:a.content}),extra:(0,s.jsx)("span",{style:{color:"#aaa",fontSize:13},children:a.time}),onClick:function(){return k(a.product)},style:{fontWeight:a.unread?700:400,background:a.unread?"linear-gradient(90deg, #f5f7fa 0%, #fff 100%)":"#fff",borderRadius:8,margin:"8px 16px",boxShadow:a.unread?"0 2px 8px rgba(60,80,120,0.06)":"none"},children:(0,s.jsxs)("div",{style:{height:"120px",display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)("div",{style:{width:"40%",height:"100%"},children:(0,s.jsx)("img",{src:"https://api.xxzh.cc"+a.product.imagePath,style:{width:"100%",height:"100%",borderRadius:8}})}),(0,s.jsxs)("div",{style:{width:"58%",padding:"10px 0"},children:[((i=a.product)===null||i===void 0?void 0:i.price)&&(0,s.jsx)(u.mH,{direction:"end",content:(h=a.product)===null||h===void 0?void 0:h.name,rows:2,style:{fontSize:"18px"}}),(0,s.jsx)("br",{}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("p",{style:{color:"#fb7701",fontSize:"18px"},children:["$ ",(m=a.product)===null||m===void 0?void 0:m.price]}),(0,s.jsxs)("button",{onClick:function(d){d.stopPropagation(),K(a.user.id,a.product.id)},style:{color:"#fff",background:"#fb7701",padding:"4px 8px",border:"none",fontSize:"14px",borderRadius:"8px"},children:[C("wishlistList.delete")," "]})]})]})]})},a.id)})}):(0,s.jsx)(u.HY,{style:{padding:"64px 0"},imageStyle:{width:128},description:C("wishlistList.noData")}),(0,s.jsx)(u.v_,{loadMore:Z,hasMore:L})]})}}}]);
