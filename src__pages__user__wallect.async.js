"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5159],{34596:function(U,C,r){r.d(C,{FL:function(){return B},H:function(){return M},JR:function(){return h},Kn:function(){return n},S4:function(){return O},Ue:function(){return u},Uy:function(){return R},Vb:function(){return $},_U:function(){return l},an:function(){return y},bZ:function(){return k},eY:function(){return z},iJ:function(){return L},jw:function(){return a},nn:function(){return I},o$:function(){return c},sg:function(){return m},um:function(){return o},wX:function(){return K},x4:function(){return x},yw:function(){return t},z2:function(){return g}});var s=r(87866),p=r(33746),b=p.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function c(e){return b({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function y(e){return(0,s.Z)({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function g(e){return(0,s.Z)({url:"/auth/register",withCredentials:!1,method:"post",data:e})}function o(e){return(0,s.Z)({url:"/user/user-detail/"+e.userId,withCredentials:!1,method:"get"})}function d(e){return request({url:"/wishlist/"+e.userId,withCredentials:!1,method:"get"})}function t(e){return(0,s.Z)({url:"/message/inbox",withCredentials:!1,method:"get",params:e})}function u(e){var J=e.id;return delete e.id,(0,s.Z)({url:"/address/create?userId="+J,withCredentials:!1,method:"post",data:e})}function n(e){return(0,s.Z)({url:"/address/get",withCredentials:!1,method:"get",params:e})}function l(e){return(0,s.Z)({url:"/address/update?userId="+e.id,withCredentials:!1,method:"post",data:e})}function f(e){return request({url:"/redbag/draw",withCredentials:!1,method:"post",data:e})}function v(e){return request({url:"/user/profit",withCredentials:!1,method:"get",params:e})}function x(e){return(0,s.Z)({url:"/auth/login",withCredentials:!1,method:"post",data:e})}function T(e){return request({url:"/redbag/signin",withCredentials:!1,method:"post",data:e})}function a(e){return(0,s.Z)({url:"/redbag/signin-and-draw",withCredentials:!1,method:"post",data:e})}function I(e){return(0,s.Z)({url:"/seller/apply",withCredentials:!1,method:"post",data:e})}function L(e){return(0,s.Z)({url:"/loan/apply",withCredentials:!1,method:"post",data:e})}function M(e){return(0,s.Z)({url:"/loan/loan",withCredentials:!1,method:"post",data:e})}function O(e){return(0,s.Z)({url:"/loan/repay",withCredentials:!1,method:"post",data:e})}function Z(e){return request({url:"/withdrawal-records/user",withCredentials:!1,method:"post",data:e})}function k(e){return(0,s.Z)({url:"/recharge-records/username",withCredentials:!1,method:"get",params:e})}function K(e){return(0,s.Z)({url:"/recharge-records/user",withCredentials:!1,method:"post",data:e})}function h(e){return(0,s.Z)({url:"/withdrawal-records/username",withCredentials:!1,method:"get",params:e})}function B(e){return(0,s.Z)({url:"/shop/user/"+e,withCredentials:!1,method:"get"})}function z(e){return(0,s.Z)({url:"/user/info/"+e,withCredentials:!1,method:"get"})}function R(e){return(0,s.Z)({url:"/products/uploader-to-userid?uploader="+e.uploader,withCredentials:!1,method:"get"})}function m(e){return(0,s.Z)({url:"/user/eth/get",withCredentials:!1,method:"get",params:e})}function $(e){return(0,s.Z)({url:"/user/tron/get",withCredentials:!1,method:"get",params:e})}function Y(e){return request({url:"/user/eth/set",withCredentials:!1,method:"put",data:e})}function F(e){return request({url:"/user/tron/set",withCredentials:!1,method:"put",data:e})}function D(){return fetch("https://api.ipify.org?format=json")}},87866:function(U,C,r){var s=r(31759),p=r.n(s),b=r(33746),c=r(69194),y=r(18015),g=b.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e5});g.interceptors.request.use(function(o){if(o.url==="/auth/register"||o.url==="/auth/login")return o;(o.url==="/user/apply"||o.url==="/loan/apply")&&(o.headers["Content-Type"]="multipart/form-data");var d=localStorage.getItem("token");return d&&(o.headers.Authorization="Bearer "+d),o},function(o){return console.log(o),Promise.reject(o)}),g.interceptors.response.use(function(o){var d,t=o.data;if(console.log("response-->",t),Array.isArray(t))return Promise.resolve(t);if((d=t.data)!==null&&d!==void 0&&d.token&&(localStorage.setItem("token",t.data.token),localStorage.setItem("userInfo",JSON.stringify(t.data.user))),t.code!==200)return c.FN.show({icon:"fail",content:t.message}),Promise.resolve(t);if(t.code===200||t.message==="SUCCESS")return Promise.resolve(t);if(t.code===305||t.code===306){Promise.reject(t||"error");return}else return t.code===403?(c.FN.show({icon:"fail",content:t.message}),y.history.push("/login"),Promise.resolve(t||"error")):Promise.reject(t||"error")},function(o){return console.log(o,"error"),o.status===403&&(c.FN.show({icon:"fail",content:o.message}),localStorage.removeItem("token"),setTimeout(function(){y.history.push("/login")},1e3)),console.log("request error"+o,p()(o)),Promise.reject(o)}),C.Z=g},72283:function(U,C,r){r.d(C,{Bi:function(){return g},Vj:function(){return o},c9:function(){return d},dN:function(){return y}});var s=r(25298),p=r.n(s),b=r(17069),c=r.n(b);function y(t){return isNaN(t)?"0.00":Number(t).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function g(t){var u=new Date(t),n=u.getFullYear(),l=String(u.getMonth()+1).padStart(2,"0"),f=String(u.getDate()).padStart(2,"0"),v="".concat(n,"-").concat(l,"-").concat(f);return v}function o(t,u,n){for(var l={},f=100/n,v=0;v<=n;v++){var x=v*f,T=(t+(u-t)*x/100).toFixed(2);l[x]=parseFloat(T)}return l}var d=function(){function t(u){p()(this,t),this.url=u,this.ws=null,this.listeners=[],this.onOpenCallbacks=[],this.onCloseCallbacks=[],this.onErrorCallbacks=[]}return c()(t,[{key:"connect",value:function(){var n=this;this.ws||(this.ws=new window.WebSocket(this.url),this.ws.onopen=function(){n.onOpenCallbacks.forEach(function(l){return l()})},this.ws.onmessage=function(l){var f=l.data;try{f=JSON.parse(f)}catch(v){}n.listeners.forEach(function(v){return v(f)})},this.ws.onclose=function(l){n.onCloseCallbacks.forEach(function(f){return f(l)})},this.ws.onerror=function(l){n.onErrorCallbacks.forEach(function(f){return f(l)})})}},{key:"send",value:function(n){console.log(this.ws,"this.ws"),!(!this.ws||this.ws.readyState!==1)&&(typeof n!="string"&&(n=JSON.stringify(n)),this.ws.send(n))}},{key:"onMessage",value:function(n){this.listeners.push(n)}},{key:"close",value:function(){this.ws&&(this.ws.close(),this.ws=null)}},{key:"onOpen",value:function(n){this.onOpenCallbacks.push(n)}},{key:"onClose",value:function(n){this.onCloseCallbacks.push(n)}},{key:"onError",value:function(n){this.onErrorCallbacks.push(n)}}]),t}()},84908:function(U,C,r){var s=r(69194),p=r(75271),b=r(5791),c=r(52676),y=function(o){var d=o.title,t=(0,b.s0)(),u=function(){t(-1)};return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.l2,{onBack:u,style:{background:"#fff",position:"sticky",top:0,zIndex:1e3},children:d})})};C.Z=y},69191:function(U,C,r){r.r(C),r.d(C,{default:function(){return L}});var s=r(15558),p=r.n(s),b=r(90228),c=r.n(b),y=r(87999),g=r.n(y),o=r(48305),d=r.n(o),t=r(75271),u=r(84908),n=r(69194),l={wallect:"wallect___mFatq",customBody:"customBody___YDZuD",datas:"datas___Q1xT0",data_item:"data_item___u8TX9",item:"item___WalgF",amount:"amount___b0Phc"},f=r(34596),v=r(5791),x=r(72283),T=r(59739),a=r(52676),I=[{key:"0",title:"wallet.rechargeRecords"},{key:"1",title:"wallet.withdrawalRecords"}];function L(){var M,O,Z,k,K=(0,T.$G)(),h=K.t,B=(0,v.s0)(),z=(0,t.useState)({}),R=d()(z,2),m=R[0],$=R[1],Y=(0,t.useState)(0),F=d()(Y,2),D=F[0],e=F[1],J=(0,t.useState)(0),V=d()(J,2),N=V[0],G=V[1],ae=(0,t.useState)([]),Q=d()(ae,2),A=Q[0],X=Q[1],se=(0,t.useState)(!0),q=d()(se,2),oe=q[0],H=q[1],le=(0,t.useState)(!0),ee=d()(le,2),te=ee[0],re=ee[1],ie=function(){var i=g()(c()().mark(function E(){var S,j;return c()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return S=JSON.parse(localStorage.getItem("userInfo")),w.next=3,(0,f.um)({userId:S.id});case 3:j=w.sent,localStorage.setItem("userInfo",JSON.stringify(j.data.user)),$(j.data);case 6:case"end":return w.stop()}},E)}));return function(){return i.apply(this,arguments)}}(),ue=function(){var i=g()(c()().mark(function E(){var S,j,W,w,P=arguments;return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(S=P.length>0&&P[0]!==void 0?P[0]:0,j=P.length>1&&P[1]!==void 0?P[1]:0,W=JSON.parse(localStorage.getItem("userInfo")),S){_.next=9;break}return _.next=6,(0,f.bZ)({page:N,size:10,username:W.username});case 6:_.t0=_.sent,_.next=12;break;case 9:return _.next=11,(0,f.JR)({page:N,size:10,username:W.username});case 11:_.t0=_.sent;case 12:if(w=_.t0,G(N+1),w.data.length!=0){_.next=16;break}return _.abrupt("return",H(!1));case 16:X(function(ne){return[].concat(p()(ne),p()(w.data)).length>=w.pagination.totalItems&&H(!1),[].concat(p()(ne),p()(w.data))});case 17:case"end":return _.stop()}},E)}));return function(){return i.apply(this,arguments)}}(),de=function(){B("/order/recharge")},ce=function(){B("/order/withdraw")};return(0,t.useEffect)(function(){!te&&N===0&&A.length===0&&(H(!0),re(!0))},[D,N,te,A]),(0,t.useEffect)(function(){ie()},[]),(0,a.jsxs)("div",{style:{minHeight:"100vh",background:"#fff",padding:"0 0 32px 0"},className:l.address,children:[(0,a.jsx)(u.Z,{title:h("wallet.myWallet"),style:{height:"100px"}}),(0,a.jsxs)("div",{className:l.wallect,children:[(0,a.jsxs)(n.Zb,{headerStyle:{color:"#1677ff"},bodyClassName:l.customBody,title:"",children:[(0,a.jsx)("h2",{children:h("wallet.accountBalance")}),(0,a.jsxs)("h1",{children:["$",(0,x.dN)((m==null||(M=m.user)===null||M===void 0?void 0:M.fakeBalance)||0)]}),(0,a.jsx)(n.iz,{}),(0,a.jsxs)("div",{className:l.datas,children:[(0,a.jsxs)("div",{className:l.data_item,children:[(0,a.jsxs)("h3",{children:["$",(0,x.dN)((m==null||(O=m.user)===null||O===void 0?void 0:O.noneUsefulBalance)||0)]}),(0,a.jsx)("p",{children:h("wallet.freezingBalance")})]}),(0,a.jsxs)("div",{className:l.data_item,children:[(0,a.jsxs)("h3",{children:["$",(0,x.dN)((m==null||(Z=m.user)===null||Z===void 0?void 0:Z.totalProfit)||0)]}),(0,a.jsx)("p",{children:h("wallet.cumulativeIncome")})]}),(0,a.jsxs)("div",{className:l.data_item,children:[(0,a.jsxs)("h3",{children:["$",(0,x.dN)((m==null||(k=m.user)===null||k===void 0?void 0:k.yesterdayProfit)||0)]}),(0,a.jsx)("p",{children:h("wallet.earningsYesterday")})]})]}),(0,a.jsxs)(n.T,{justify:"between",block:!0,children:[(0,a.jsx)(n.zx,{color:"primary",fill:"solid",style:{width:120,background:"linear-gradient(90deg, #bfa14a 0%, #ffe082 100%)",border:"none",fontWeight:600,fontSize:16,letterSpacing:1,color:"#232526",boxShadow:"0 2px 8px rgba(191,161,74,0.10)"},onClick:de,children:h("wallet.recharge")}),(0,a.jsx)(n.zx,{color:"primary",fill:"outline",style:{width:120,borderColor:"#ffe082",color:"#333",fontWeight:600,fontSize:16,letterSpacing:1,background:"rgba(191,161,74,0.10)",boxShadow:"0 2px 8px rgba(191,161,74,0.10)"},onClick:ce,children:h("wallet.withdraw")})]})]}),(0,a.jsx)(n.mQ,{activeKey:I[D].key,style:{"--title-font-size":"18px","--content-padding":"18px","--active-line-color":"#333","--active-title-color":"#333"},onChange:function(E){var S=I.findIndex(function(j){return j.key===E});e(S),X([]),re(!1),G(0)},children:I.map(function(i){return(0,a.jsx)(n.mQ.Tab,{title:h(i.title)},i.key)})}),A.length>0?(0,a.jsx)(n.aV,{style:{"--border-top":"none","--border-bottom":"none"},children:A.map(function(i){return(0,a.jsx)(n.aV.Item,{style:{fontWeight:i.unread?700:400,background:i.unread?"linear-gradient(90deg, #f5f7fa 0%, #fff 100%)":"#fff",borderRadius:8,margin:"8px 16px",boxShadow:i.unread?"0 2px 8px rgba(60,80,120,0.06)":"none"},children:(0,a.jsxs)("div",{className:l.item,style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:[h("wallet.status"),": ",i.status]}),(0,a.jsxs)("p",{children:[h("wallet.number"),": ",i.rechargeNumber?i.rechargeNumber:i.withdrawalNumber]}),(0,a.jsxs)("p",{children:[h("wallet.time"),": ",i.rechargeTime?i.rechargeTime:i.withdrawalTime]})]}),(0,a.jsxs)("div",{className:l.amount,style:{color:D=="0"?"#ff6767":"#44a53b"},children:[D=="1"?"-":"+"," ",i.amount]})]})},i.id)})}):(0,a.jsx)(n.HY,{style:{padding:"64px 0"},imageStyle:{width:128},description:h("wallet.noData")})]}),(0,a.jsx)(n.v_,{loadMore:function(){return ue(D)},hasMore:oe})]})}}}]);
